import{createRequire as xz}from"node:module";var Oz=Object.create;var{getPrototypeOf:Sz,defineProperty:MZ,getOwnPropertyNames:P7,getOwnPropertyDescriptor:Tz}=Object,v7=Object.prototype.hasOwnProperty;var NZ=(Z,z,K)=>{K=Z!=null?Oz(Sz(Z)):{};let $=z||!Z||!Z.__esModule?MZ(K,"default",{value:Z,enumerable:!0}):K;for(let H of P7(Z))if(!v7.call($,H))MZ($,H,{get:()=>Z[H],enumerable:!0});return $},C7=new WeakMap,yz=(Z)=>{var z=C7.get(Z),K;if(z)return z;if(z=MZ({},"__esModule",{value:!0}),Z&&typeof Z==="object"||typeof Z==="function")P7(Z).map(($)=>!v7.call(z,$)&&MZ(z,$,{get:()=>Z[$],enumerable:!(K=Tz(Z,$))||K.enumerable}));return C7.set(Z,z),z},k=(Z,z)=>()=>(z||Z((z={exports:{}}).exports,z),z.exports);var kz=(Z,z)=>{for(var K in z)MZ(Z,K,{get:z[K],enumerable:!0,configurable:!0,set:($)=>z[K]=()=>$})};var bz=(Z,z)=>()=>(Z&&(z=Z(Z=0)),z);var WZ=xz(import.meta.url);var E7=k((A7)=>{Object.defineProperty(A7,"__esModule",{value:!0});A7.range=A7.balanced=void 0;var hz=(Z,z,K)=>{let $=Z instanceof RegExp?R7(Z,K):Z,H=z instanceof RegExp?R7(z,K):z,V=$!==null&&H!=null&&A7.range($,H,K);return V&&{start:V[0],end:V[1],pre:K.slice(0,V[0]),body:K.slice(V[0]+$.length,V[1]),post:K.slice(V[1]+H.length)}};A7.balanced=hz;var R7=(Z,z)=>{let K=z.match(Z);return K?K[0]:null},_z=(Z,z,K)=>{let $,H,V,Q=void 0,X,J=K.indexOf(Z),U=K.indexOf(z,J+1),Y=J;if(J>=0&&U>0){if(Z===z)return[J,U];$=[],V=K.length;while(Y>=0&&!X){if(Y===J)$.push(Y),J=K.indexOf(Z,Y+1);else if($.length===1){let q=$.pop();if(q!==void 0)X=[q,U]}else{if(H=$.pop(),H!==void 0&&H<V)V=H,Q=U;U=K.indexOf(z,Y+1)}Y=J<U&&J>=0?J:U}if($.length&&Q!==void 0)X=[V,Q]}return X};A7.range=_z});var h7=k((x7)=>{Object.defineProperty(x7,"__esModule",{value:!0});x7.expand=rz;var O7=E7(),S7="\x00SLASH"+Math.random()+"\x00",T7="\x00OPEN"+Math.random()+"\x00",L0="\x00CLOSE"+Math.random()+"\x00",y7="\x00COMMA"+Math.random()+"\x00",k7="\x00PERIOD"+Math.random()+"\x00",dz=new RegExp(S7,"g"),cz=new RegExp(T7,"g"),gz=new RegExp(L0,"g"),mz=new RegExp(y7,"g"),uz=new RegExp(k7,"g"),pz=/\\\\/g,lz=/\\{/g,oz=/\\}/g,nz=/\\,/g,iz=/\\./g;function w0(Z){return!isNaN(Z)?parseInt(Z,10):Z.charCodeAt(0)}function az(Z){return Z.replace(pz,S7).replace(lz,T7).replace(oz,L0).replace(nz,y7).replace(iz,k7)}function sz(Z){return Z.replace(dz,"\\").replace(cz,"{").replace(gz,"}").replace(mz,",").replace(uz,".")}function b7(Z){if(!Z)return[""];let z=[],K=(0,O7.balanced)("{","}",Z);if(!K)return Z.split(",");let{pre:$,body:H,post:V}=K,Q=$.split(",");Q[Q.length-1]+="{"+H+"}";let X=b7(V);if(V.length)Q[Q.length-1]+=X.shift(),Q.push.apply(Q,X);return z.push.apply(z,Q),z}function rz(Z){if(!Z)return[];if(Z.slice(0,2)==="{}")Z="\\{\\}"+Z.slice(2);return DZ(az(Z),!0).map(sz)}function tz(Z){return"{"+Z+"}"}function ez(Z){return/^-?0\d/.test(Z)}function ZK(Z,z){return Z<=z}function zK(Z,z){return Z>=z}function DZ(Z,z){let K=[],$=(0,O7.balanced)("{","}",Z);if(!$)return[Z];let H=$.pre,V=$.post.length?DZ($.post,!1):[""];if(/\$$/.test($.pre))for(let Q=0;Q<V.length;Q++){let X=H+"{"+$.body+"}"+V[Q];K.push(X)}else{let Q=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test($.body),X=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test($.body),J=Q||X,U=$.body.indexOf(",")>=0;if(!J&&!U){if($.post.match(/,(?!,).*\}/))return Z=$.pre+"{"+$.body+L0+$.post,DZ(Z);return[Z]}let Y;if(J)Y=$.body.split(/\.\./);else if(Y=b7($.body),Y.length===1&&Y[0]!==void 0){if(Y=DZ(Y[0],!1).map(tz),Y.length===1)return V.map((W)=>$.pre+Y[0]+W)}let q;if(J&&Y[0]!==void 0&&Y[1]!==void 0){let W=w0(Y[0]),B=w0(Y[1]),N=Math.max(Y[0].length,Y[1].length),L=Y.length===3&&Y[2]!==void 0?Math.abs(w0(Y[2])):1,v=ZK;if(B<W)L*=-1,v=zK;let b=Y.some(ez);q=[];for(let y=W;v(y,B);y+=L){let T;if(X){if(T=String.fromCharCode(y),T==="\\")T=""}else if(T=String(y),b){let VZ=N-T.length;if(VZ>0){let zZ=new Array(VZ+1).join("0");if(y<0)T="-"+zZ+T.slice(1);else T=zZ+T}}q.push(T)}}else{q=[];for(let W=0;W<Y.length;W++)q.push.apply(q,DZ(Y[W],!1))}for(let W=0;W<q.length;W++)for(let B=0;B<V.length;B++){let N=H+q[W]+V[B];if(!z||J||N)K.push(N)}}return K}});var d7=k((_7)=>{Object.defineProperty(_7,"__esModule",{value:!0});_7.assertValidPattern=void 0;var $K=65536,HK=(Z)=>{if(typeof Z!=="string")throw new TypeError("invalid pattern");if(Z.length>$K)throw new TypeError("pattern is too long")};_7.assertValidPattern=HK});var u7=k((g7)=>{Object.defineProperty(g7,"__esModule",{value:!0});g7.parseClass=void 0;var VK={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},CZ=(Z)=>Z.replace(/[[\]\\-]/g,"\\$&"),QK=(Z)=>Z.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c7=(Z)=>Z.join(""),XK=(Z,z)=>{let K=z;if(Z.charAt(K)!=="[")throw new Error("not in a brace expression");let $=[],H=[],V=K+1,Q=!1,X=!1,J=!1,U=!1,Y=K,q="";Z:while(V<Z.length){let L=Z.charAt(V);if((L==="!"||L==="^")&&V===K+1){U=!0,V++;continue}if(L==="]"&&Q&&!J){Y=V+1;break}if(Q=!0,L==="\\"){if(!J){J=!0,V++;continue}}if(L==="["&&!J){for(let[v,[_,b,y]]of Object.entries(VK))if(Z.startsWith(v,V)){if(q)return["$.",!1,Z.length-K,!0];if(V+=v.length,y)H.push(_);else $.push(_);X=X||b;continue Z}}if(J=!1,q){if(L>q)$.push(CZ(q)+"-"+CZ(L));else if(L===q)$.push(CZ(L));q="",V++;continue}if(Z.startsWith("-]",V+1)){$.push(CZ(L+"-")),V+=2;continue}if(Z.startsWith("-",V+1)){q=L,V+=2;continue}$.push(CZ(L)),V++}if(Y<V)return["",!1,0,!1];if(!$.length&&!H.length)return["$.",!1,Z.length-K,!0];if(H.length===0&&$.length===1&&/^\\?.$/.test($[0])&&!U){let L=$[0].length===2?$[0].slice(-1):$[0];return[QK(L),!1,Y-K,!1]}let W="["+(U?"^":"")+c7($)+"]",B="["+(U?"":"^")+c7(H)+"]";return[$.length&&H.length?"("+W+"|"+B+")":$.length?W:B,X,Y-K,!0]};g7.parseClass=XK});var _Z=k((p7)=>{Object.defineProperty(p7,"__esModule",{value:!0});p7.unescape=void 0;var YK=(Z,{windowsPathsNoEscape:z=!1}={})=>{return z?Z.replace(/\[([^\/\\])\]/g,"$1"):Z.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")};p7.unescape=YK});var N0=k((a7)=>{Object.defineProperty(a7,"__esModule",{value:!0});a7.AST=void 0;var JK=u7(),fZ=_Z(),qK=new Set(["!","?","+","*","@"]),o7=(Z)=>qK.has(Z),WK="(?!(?:^|/)\\.\\.?(?:$|/))",dZ="(?!\\.)",UK=new Set(["[","."]),BK=new Set(["..","."]),jK=new Set("().*{}+?[]^$\\!"),IK=(Z)=>Z.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),M0="[^/]",n7=M0+"*?",i7=M0+"+?";class c{type;#K;#$;#V=!1;#Z=[];#z;#Q;#Y;#X=!1;#H;#J;#W=!1;constructor(Z,z,K={}){if(this.type=Z,Z)this.#$=!0;if(this.#z=z,this.#K=this.#z?this.#z.#K:this,this.#H=this.#K===this?K:this.#K.#H,this.#Y=this.#K===this?[]:this.#K.#Y,Z==="!"&&!this.#K.#X)this.#Y.push(this);this.#Q=this.#z?this.#z.#Z.length:0}get hasMagic(){if(this.#$!==void 0)return this.#$;for(let Z of this.#Z){if(typeof Z==="string")continue;if(Z.type||Z.hasMagic)return this.#$=!0}return this.#$}toString(){if(this.#J!==void 0)return this.#J;if(!this.type)return this.#J=this.#Z.map((Z)=>String(Z)).join("");else return this.#J=this.type+"("+this.#Z.map((Z)=>String(Z)).join("|")+")"}#B(){if(this!==this.#K)throw new Error("should only call on root");if(this.#X)return this;this.toString(),this.#X=!0;let Z;while(Z=this.#Y.pop()){if(Z.type!=="!")continue;let z=Z,K=z.#z;while(K){for(let $=z.#Q+1;!K.type&&$<K.#Z.length;$++)for(let H of Z.#Z){if(typeof H==="string")throw new Error("string part in extglob AST??");H.copyIn(K.#Z[$])}z=K,K=z.#z}}return this}push(...Z){for(let z of Z){if(z==="")continue;if(typeof z!=="string"&&!(z instanceof c&&z.#z===this))throw new Error("invalid part: "+z);this.#Z.push(z)}}toJSON(){let Z=this.type===null?this.#Z.slice().map((z)=>typeof z==="string"?z:z.toJSON()):[this.type,...this.#Z.map((z)=>z.toJSON())];if(this.isStart()&&!this.type)Z.unshift([]);if(this.isEnd()&&(this===this.#K||this.#K.#X&&this.#z?.type==="!"))Z.push({});return Z}isStart(){if(this.#K===this)return!0;if(!this.#z?.isStart())return!1;if(this.#Q===0)return!0;let Z=this.#z;for(let z=0;z<this.#Q;z++){let K=Z.#Z[z];if(!(K instanceof c&&K.type==="!"))return!1}return!0}isEnd(){if(this.#K===this)return!0;if(this.#z?.type==="!")return!0;if(!this.#z?.isEnd())return!1;if(!this.type)return this.#z?.isEnd();let Z=this.#z?this.#z.#Z.length:0;return this.#Q===Z-1}copyIn(Z){if(typeof Z==="string")this.push(Z);else this.push(Z.clone(this))}clone(Z){let z=new c(this.type,Z);for(let K of this.#Z)z.copyIn(K);return z}static#q(Z,z,K,$){let H=!1,V=!1,Q=-1,X=!1;if(z.type===null){let W=K,B="";while(W<Z.length){let N=Z.charAt(W++);if(H||N==="\\"){H=!H,B+=N;continue}if(V){if(W===Q+1){if(N==="^"||N==="!")X=!0}else if(N==="]"&&!(W===Q+2&&X))V=!1;B+=N;continue}else if(N==="["){V=!0,Q=W,X=!1,B+=N;continue}if(!$.noext&&o7(N)&&Z.charAt(W)==="("){z.push(B),B="";let L=new c(N,z);W=c.#q(Z,L,W,$),z.push(L);continue}B+=N}return z.push(B),W}let J=K+1,U=new c(null,z),Y=[],q="";while(J<Z.length){let W=Z.charAt(J++);if(H||W==="\\"){H=!H,q+=W;continue}if(V){if(J===Q+1){if(W==="^"||W==="!")X=!0}else if(W==="]"&&!(J===Q+2&&X))V=!1;q+=W;continue}else if(W==="["){V=!0,Q=J,X=!1,q+=W;continue}if(o7(W)&&Z.charAt(J)==="("){U.push(q),q="";let B=new c(W,U);U.push(B),J=c.#q(Z,B,J,$);continue}if(W==="|"){U.push(q),q="",Y.push(U),U=new c(null,z);continue}if(W===")"){if(q===""&&z.#Z.length===0)z.#W=!0;return U.push(q),q="",z.push(...Y,U),J}q+=W}return z.type=null,z.#$=void 0,z.#Z=[Z.substring(K-1)],J}static fromGlob(Z,z={}){let K=new c(null,void 0,z);return c.#q(Z,K,0,z),K}toMMPattern(){if(this!==this.#K)return this.#K.toMMPattern();let Z=this.toString(),[z,K,$,H]=this.toRegExpSource();if(!($||this.#$||this.#H.nocase&&!this.#H.nocaseMagicOnly&&Z.toUpperCase()!==Z.toLowerCase()))return K;let Q=(this.#H.nocase?"i":"")+(H?"u":"");return Object.assign(new RegExp(`^${z}$`,Q),{_src:z,_glob:Z})}get options(){return this.#H}toRegExpSource(Z){let z=Z??!!this.#H.dot;if(this.#K===this)this.#B();if(!this.type){let X=this.isStart()&&this.isEnd(),J=this.#Z.map((W)=>{let[B,N,L,v]=typeof W==="string"?c.#j(W,this.#$,X):W.toRegExpSource(Z);return this.#$=this.#$||L,this.#V=this.#V||v,B}).join(""),U="";if(this.isStart()){if(typeof this.#Z[0]==="string"){if(!(this.#Z.length===1&&BK.has(this.#Z[0]))){let B=UK,N=z&&B.has(J.charAt(0))||J.startsWith("\\.")&&B.has(J.charAt(2))||J.startsWith("\\.\\.")&&B.has(J.charAt(4)),L=!z&&!Z&&B.has(J.charAt(0));U=N?WK:L?dZ:""}}}let Y="";if(this.isEnd()&&this.#K.#X&&this.#z?.type==="!")Y="(?:$|\\/)";return[U+J+Y,(0,fZ.unescape)(J),this.#$=!!this.#$,this.#V]}let K=this.type==="*"||this.type==="+",$=this.type==="!"?"(?:(?!(?:":"(?:",H=this.#U(z);if(this.isStart()&&this.isEnd()&&!H&&this.type!=="!"){let X=this.toString();return this.#Z=[X],this.type=null,this.#$=void 0,[X,(0,fZ.unescape)(this.toString()),!1,!1]}let V=!K||Z||z||!dZ?"":this.#U(!0);if(V===H)V="";if(V)H=`(?:${H})(?:${V})*?`;let Q="";if(this.type==="!"&&this.#W)Q=(this.isStart()&&!z?dZ:"")+i7;else{let X=this.type==="!"?"))"+(this.isStart()&&!z&&!Z?dZ:"")+n7+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&V?")":this.type==="*"&&V?")?":`)${this.type}`;Q=$+H+X}return[Q,(0,fZ.unescape)(H),this.#$=!!this.#$,this.#V]}#U(Z){return this.#Z.map((z)=>{if(typeof z==="string")throw new Error("string type in extglob ast??");let[K,$,H,V]=z.toRegExpSource(Z);return this.#V=this.#V||V,K}).filter((z)=>!(this.isStart()&&this.isEnd())||!!z).join("|")}static#j(Z,z,K=!1){let $=!1,H="",V=!1;for(let Q=0;Q<Z.length;Q++){let X=Z.charAt(Q);if($){$=!1,H+=(jK.has(X)?"\\":"")+X;continue}if(X==="\\"){if(Q===Z.length-1)H+="\\\\";else $=!0;continue}if(X==="["){let[J,U,Y,q]=(0,JK.parseClass)(Z,Q);if(Y){H+=J,V=V||U,Q+=Y-1,z=z||q;continue}}if(X==="*"){if(K&&Z==="*")H+=i7;else H+=n7;z=!0;continue}if(X==="?"){H+=M0,z=!0;continue}H+=IK(X)}return[H,(0,fZ.unescape)(Z),!!z,V]}}a7.AST=c});var D0=k((r7)=>{Object.defineProperty(r7,"__esModule",{value:!0});r7.escape=void 0;var GK=(Z,{windowsPathsNoEscape:z=!1}={})=>{return z?Z.replace(/[?*()[\]]/g,"[$&]"):Z.replace(/[?*()[\]\\]/g,"\\$&")};r7.escape=GK});var q8=k((PZ)=>{Object.defineProperty(PZ,"__esModule",{value:!0});PZ.unescape=PZ.escape=PZ.AST=PZ.Minimatch=PZ.match=PZ.makeRe=PZ.braceExpand=PZ.defaults=PZ.filter=PZ.GLOBSTAR=PZ.sep=PZ.minimatch=void 0;var FK=h7(),cZ=d7(),z8=N0(),wK=D0(),LK=_Z(),MK=(Z,z,K={})=>{if((0,cZ.assertValidPattern)(z),!K.nocomment&&z.charAt(0)==="#")return!1;return new UZ(z,K).match(Z)};PZ.minimatch=MK;var NK=/^\*+([^+@!?\*\[\(]*)$/,DK=(Z)=>(z)=>!z.startsWith(".")&&z.endsWith(Z),CK=(Z)=>(z)=>z.endsWith(Z),PK=(Z)=>{return Z=Z.toLowerCase(),(z)=>!z.startsWith(".")&&z.toLowerCase().endsWith(Z)},vK=(Z)=>{return Z=Z.toLowerCase(),(z)=>z.toLowerCase().endsWith(Z)},RK=/^\*+\.\*+$/,AK=(Z)=>!Z.startsWith(".")&&Z.includes("."),EK=(Z)=>Z!=="."&&Z!==".."&&Z.includes("."),OK=/^\.\*+$/,SK=(Z)=>Z!=="."&&Z!==".."&&Z.startsWith("."),TK=/^\*+$/,yK=(Z)=>Z.length!==0&&!Z.startsWith("."),kK=(Z)=>Z.length!==0&&Z!=="."&&Z!=="..",bK=/^\?+([^+@!?\*\[\(]*)?$/,xK=([Z,z=""])=>{let K=K8([Z]);if(!z)return K;return z=z.toLowerCase(),($)=>K($)&&$.toLowerCase().endsWith(z)},hK=([Z,z=""])=>{let K=$8([Z]);if(!z)return K;return z=z.toLowerCase(),($)=>K($)&&$.toLowerCase().endsWith(z)},_K=([Z,z=""])=>{let K=$8([Z]);return!z?K:($)=>K($)&&$.endsWith(z)},fK=([Z,z=""])=>{let K=K8([Z]);return!z?K:($)=>K($)&&$.endsWith(z)},K8=([Z])=>{let z=Z.length;return(K)=>K.length===z&&!K.startsWith(".")},$8=([Z])=>{let z=Z.length;return(K)=>K.length===z&&K!=="."&&K!==".."},H8=typeof process==="object"&&process?typeof process.env==="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",e7={win32:{sep:"\\"},posix:{sep:"/"}};PZ.sep=H8==="win32"?e7.win32.sep:e7.posix.sep;PZ.minimatch.sep=PZ.sep;PZ.GLOBSTAR=Symbol("globstar **");PZ.minimatch.GLOBSTAR=PZ.GLOBSTAR;var dK="[^/]",cK=dK+"*?",gK="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",mK="(?:(?!(?:\\/|^)\\.).)*?",uK=(Z,z={})=>(K)=>PZ.minimatch(K,Z,z);PZ.filter=uK;PZ.minimatch.filter=PZ.filter;var n=(Z,z={})=>Object.assign({},Z,z),pK=(Z)=>{if(!Z||typeof Z!=="object"||!Object.keys(Z).length)return PZ.minimatch;let z=PZ.minimatch;return Object.assign(($,H,V={})=>z($,H,n(Z,V)),{Minimatch:class $ extends z.Minimatch{constructor(H,V={}){super(H,n(Z,V))}static defaults(H){return z.defaults(n(Z,H)).Minimatch}},AST:class $ extends z.AST{constructor(H,V,Q={}){super(H,V,n(Z,Q))}static fromGlob(H,V={}){return z.AST.fromGlob(H,n(Z,V))}},unescape:($,H={})=>z.unescape($,n(Z,H)),escape:($,H={})=>z.escape($,n(Z,H)),filter:($,H={})=>z.filter($,n(Z,H)),defaults:($)=>z.defaults(n(Z,$)),makeRe:($,H={})=>z.makeRe($,n(Z,H)),braceExpand:($,H={})=>z.braceExpand($,n(Z,H)),match:($,H,V={})=>z.match($,H,n(Z,V)),sep:z.sep,GLOBSTAR:PZ.GLOBSTAR})};PZ.defaults=pK;PZ.minimatch.defaults=PZ.defaults;var lK=(Z,z={})=>{if((0,cZ.assertValidPattern)(Z),z.nobrace||!/\{(?:(?!\{).)*\}/.test(Z))return[Z];return(0,FK.expand)(Z)};PZ.braceExpand=lK;PZ.minimatch.braceExpand=PZ.braceExpand;var oK=(Z,z={})=>new UZ(Z,z).makeRe();PZ.makeRe=oK;PZ.minimatch.makeRe=PZ.makeRe;var nK=(Z,z,K={})=>{let $=new UZ(z,K);if(Z=Z.filter((H)=>$.match(H)),$.options.nonull&&!Z.length)Z.push(z);return Z};PZ.match=nK;PZ.minimatch.match=PZ.match;var Z8=/[?*]|[+@!]\(.*?\)|\[|\]/,iK=(Z)=>Z.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class UZ{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(Z,z={}){if((0,cZ.assertValidPattern)(Z),z=z||{},this.options=z,this.pattern=Z,this.platform=z.platform||H8,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!z.windowsPathsNoEscape||z.allowWindowsEscape===!1,this.windowsPathsNoEscape)this.pattern=this.pattern.replace(/\\/g,"/");this.preserveMultipleSlashes=!!z.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!z.nonegate,this.comment=!1,this.empty=!1,this.partial=!!z.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=z.windowsNoMagicRoot!==void 0?z.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let Z of this.set)for(let z of Z)if(typeof z!=="string")return!0;return!1}debug(...Z){}make(){let Z=this.pattern,z=this.options;if(!z.nocomment&&Z.charAt(0)==="#"){this.comment=!0;return}if(!Z){this.empty=!0;return}if(this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],z.debug)this.debug=(...H)=>console.error(...H);this.debug(this.pattern,this.globSet);let K=this.globSet.map((H)=>this.slashSplit(H));this.globParts=this.preprocess(K),this.debug(this.pattern,this.globParts);let $=this.globParts.map((H,V,Q)=>{if(this.isWindows&&this.windowsNoMagicRoot){let X=H[0]===""&&H[1]===""&&(H[2]==="?"||!Z8.test(H[2]))&&!Z8.test(H[3]),J=/^[a-z]:/i.test(H[0]);if(X)return[...H.slice(0,4),...H.slice(4).map((U)=>this.parse(U))];else if(J)return[H[0],...H.slice(1).map((U)=>this.parse(U))]}return H.map((X)=>this.parse(X))});if(this.debug(this.pattern,$),this.set=$.filter((H)=>H.indexOf(!1)===-1),this.isWindows)for(let H=0;H<this.set.length;H++){let V=this.set[H];if(V[0]===""&&V[1]===""&&this.globParts[H][2]==="?"&&typeof V[3]==="string"&&/^[a-z]:$/i.test(V[3]))V[2]="?"}this.debug(this.pattern,this.set)}preprocess(Z){if(this.options.noglobstar){for(let K=0;K<Z.length;K++)for(let $=0;$<Z[K].length;$++)if(Z[K][$]==="**")Z[K][$]="*"}let{optimizationLevel:z=1}=this.options;if(z>=2)Z=this.firstPhasePreProcess(Z),Z=this.secondPhasePreProcess(Z);else if(z>=1)Z=this.levelOneOptimize(Z);else Z=this.adjascentGlobstarOptimize(Z);return Z}adjascentGlobstarOptimize(Z){return Z.map((z)=>{let K=-1;while((K=z.indexOf("**",K+1))!==-1){let $=K;while(z[$+1]==="**")$++;if($!==K)z.splice(K,$-K)}return z})}levelOneOptimize(Z){return Z.map((z)=>{return z=z.reduce((K,$)=>{let H=K[K.length-1];if($==="**"&&H==="**")return K;if($===".."){if(H&&H!==".."&&H!=="."&&H!=="**")return K.pop(),K}return K.push($),K},[]),z.length===0?[""]:z})}levelTwoFileOptimize(Z){if(!Array.isArray(Z))Z=this.slashSplit(Z);let z=!1;do{if(z=!1,!this.preserveMultipleSlashes){for(let $=1;$<Z.length-1;$++){let H=Z[$];if($===1&&H===""&&Z[0]==="")continue;if(H==="."||H==="")z=!0,Z.splice($,1),$--}if(Z[0]==="."&&Z.length===2&&(Z[1]==="."||Z[1]===""))z=!0,Z.pop()}let K=0;while((K=Z.indexOf("..",K+1))!==-1){let $=Z[K-1];if($&&$!=="."&&$!==".."&&$!=="**")z=!0,Z.splice(K-1,2),K-=2}}while(z);return Z.length===0?[""]:Z}firstPhasePreProcess(Z){let z=!1;do{z=!1;for(let K of Z){let $=-1;while(($=K.indexOf("**",$+1))!==-1){let V=$;while(K[V+1]==="**")V++;if(V>$)K.splice($+1,V-$);let Q=K[$+1],X=K[$+2],J=K[$+3];if(Q!=="..")continue;if(!X||X==="."||X===".."||!J||J==="."||J==="..")continue;z=!0,K.splice($,1);let U=K.slice(0);U[$]="**",Z.push(U),$--}if(!this.preserveMultipleSlashes){for(let V=1;V<K.length-1;V++){let Q=K[V];if(V===1&&Q===""&&K[0]==="")continue;if(Q==="."||Q==="")z=!0,K.splice(V,1),V--}if(K[0]==="."&&K.length===2&&(K[1]==="."||K[1]===""))z=!0,K.pop()}let H=0;while((H=K.indexOf("..",H+1))!==-1){let V=K[H-1];if(V&&V!=="."&&V!==".."&&V!=="**"){z=!0;let X=H===1&&K[H+1]==="**"?["."]:[];if(K.splice(H-1,2,...X),K.length===0)K.push("");H-=2}}}}while(z);return Z}secondPhasePreProcess(Z){for(let z=0;z<Z.length-1;z++)for(let K=z+1;K<Z.length;K++){let $=this.partsMatch(Z[z],Z[K],!this.preserveMultipleSlashes);if($){Z[z]=[],Z[K]=$;break}}return Z.filter((z)=>z.length)}partsMatch(Z,z,K=!1){let $=0,H=0,V=[],Q="";while($<Z.length&&H<z.length)if(Z[$]===z[H])V.push(Q==="b"?z[H]:Z[$]),$++,H++;else if(K&&Z[$]==="**"&&z[H]===Z[$+1])V.push(Z[$]),$++;else if(K&&z[H]==="**"&&Z[$]===z[H+1])V.push(z[H]),H++;else if(Z[$]==="*"&&z[H]&&(this.options.dot||!z[H].startsWith("."))&&z[H]!=="**"){if(Q==="b")return!1;Q="a",V.push(Z[$]),$++,H++}else if(z[H]==="*"&&Z[$]&&(this.options.dot||!Z[$].startsWith("."))&&Z[$]!=="**"){if(Q==="a")return!1;Q="b",V.push(z[H]),$++,H++}else return!1;return Z.length===z.length&&V}parseNegate(){if(this.nonegate)return;let Z=this.pattern,z=!1,K=0;for(let $=0;$<Z.length&&Z.charAt($)==="!";$++)z=!z,K++;if(K)this.pattern=Z.slice(K);this.negate=z}matchOne(Z,z,K=!1){let $=this.options;if(this.isWindows){let N=typeof Z[0]==="string"&&/^[a-z]:$/i.test(Z[0]),L=!N&&Z[0]===""&&Z[1]===""&&Z[2]==="?"&&/^[a-z]:$/i.test(Z[3]),v=typeof z[0]==="string"&&/^[a-z]:$/i.test(z[0]),_=!v&&z[0]===""&&z[1]===""&&z[2]==="?"&&typeof z[3]==="string"&&/^[a-z]:$/i.test(z[3]),b=L?3:N?0:void 0,y=_?3:v?0:void 0;if(typeof b==="number"&&typeof y==="number"){let[T,VZ]=[Z[b],z[y]];if(T.toLowerCase()===VZ.toLowerCase()){if(z[y]=T,y>b)z=z.slice(y);else if(b>y)Z=Z.slice(b)}}}let{optimizationLevel:H=1}=this.options;if(H>=2)Z=this.levelTwoFileOptimize(Z);this.debug("matchOne",this,{file:Z,pattern:z}),this.debug("matchOne",Z.length,z.length);for(var V=0,Q=0,X=Z.length,J=z.length;V<X&&Q<J;V++,Q++){this.debug("matchOne loop");var U=z[Q],Y=Z[V];if(this.debug(z,U,Y),U===!1)return!1;if(U===PZ.GLOBSTAR){this.debug("GLOBSTAR",[z,U,Y]);var q=V,W=Q+1;if(W===J){this.debug("** at the end");for(;V<X;V++)if(Z[V]==="."||Z[V]===".."||!$.dot&&Z[V].charAt(0)===".")return!1;return!0}while(q<X){var B=Z[q];if(this.debug(`
globstar while`,Z,q,z,W,B),this.matchOne(Z.slice(q),z.slice(W),K))return this.debug("globstar found match!",q,X,B),!0;else{if(B==="."||B===".."||!$.dot&&B.charAt(0)==="."){this.debug("dot detected!",Z,q,z,W);break}this.debug("globstar swallow a segment, and continue"),q++}}if(K){if(this.debug(`
>>> no match, partial?`,Z,q,z,W),q===X)return!0}return!1}let N;if(typeof U==="string")N=Y===U,this.debug("string match",U,Y,N);else N=U.test(Y),this.debug("pattern match",U,Y,N);if(!N)return!1}if(V===X&&Q===J)return!0;else if(V===X)return K;else if(Q===J)return V===X-1&&Z[V]==="";else throw new Error("wtf?")}braceExpand(){return PZ.braceExpand(this.pattern,this.options)}parse(Z){(0,cZ.assertValidPattern)(Z);let z=this.options;if(Z==="**")return PZ.GLOBSTAR;if(Z==="")return"";let K,$=null;if(K=Z.match(TK))$=z.dot?kK:yK;else if(K=Z.match(NK))$=(z.nocase?z.dot?vK:PK:z.dot?CK:DK)(K[1]);else if(K=Z.match(bK))$=(z.nocase?z.dot?hK:xK:z.dot?_K:fK)(K);else if(K=Z.match(RK))$=z.dot?EK:AK;else if(K=Z.match(OK))$=SK;let H=z8.AST.fromGlob(Z,this.options).toMMPattern();if($&&typeof H==="object")Reflect.defineProperty(H,"test",{value:$});return H}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let Z=this.set;if(!Z.length)return this.regexp=!1,this.regexp;let z=this.options,K=z.noglobstar?cK:z.dot?gK:mK,$=new Set(z.nocase?["i"]:[]),H=Z.map((X)=>{let J=X.map((U)=>{if(U instanceof RegExp)for(let Y of U.flags.split(""))$.add(Y);return typeof U==="string"?iK(U):U===PZ.GLOBSTAR?PZ.GLOBSTAR:U._src});return J.forEach((U,Y)=>{let q=J[Y+1],W=J[Y-1];if(U!==PZ.GLOBSTAR||W===PZ.GLOBSTAR)return;if(W===void 0)if(q!==void 0&&q!==PZ.GLOBSTAR)J[Y+1]="(?:\\/|"+K+"\\/)?"+q;else J[Y]=K;else if(q===void 0)J[Y-1]=W+"(?:\\/|"+K+")?";else if(q!==PZ.GLOBSTAR)J[Y-1]=W+"(?:\\/|\\/"+K+"\\/)"+q,J[Y+1]=PZ.GLOBSTAR}),J.filter((U)=>U!==PZ.GLOBSTAR).join("/")}).join("|"),[V,Q]=Z.length>1?["(?:",")"]:["",""];if(H="^"+V+H+Q+"$",this.negate)H="^(?!"+H+").+$";try{this.regexp=new RegExp(H,[...$].join(""))}catch(X){this.regexp=!1}return this.regexp}slashSplit(Z){if(this.preserveMultipleSlashes)return Z.split("/");else if(this.isWindows&&/^\/\/[^\/]+/.test(Z))return["",...Z.split(/\/+/)];else return Z.split(/\/+/)}match(Z,z=this.partial){if(this.debug("match",Z,this.pattern),this.comment)return!1;if(this.empty)return Z==="";if(Z==="/"&&z)return!0;let K=this.options;if(this.isWindows)Z=Z.split("\\").join("/");let $=this.slashSplit(Z);this.debug(this.pattern,"split",$);let H=this.set;this.debug(this.pattern,"set",H);let V=$[$.length-1];if(!V)for(let Q=$.length-2;!V&&Q>=0;Q--)V=$[Q];for(let Q=0;Q<H.length;Q++){let X=H[Q],J=$;if(K.matchBase&&X.length===1)J=[V];if(this.matchOne(J,X,z)){if(K.flipNegate)return!0;return!this.negate}}if(K.flipNegate)return!1;return this.negate}static defaults(Z){return PZ.minimatch.defaults(Z).Minimatch}}PZ.Minimatch=UZ;var aK=N0();Object.defineProperty(PZ,"AST",{enumerable:!0,get:function(){return aK.AST}});var sK=D0();Object.defineProperty(PZ,"escape",{enumerable:!0,get:function(){return sK.escape}});var rK=_Z();Object.defineProperty(PZ,"unescape",{enumerable:!0,get:function(){return rK.unescape}});PZ.minimatch.AST=z8.AST;PZ.minimatch.Minimatch=UZ;PZ.minimatch.escape=wK.escape;PZ.minimatch.unescape=LK.unescape});var U8=k((M4,W8)=>{var KZ=WZ("fs"),P0=WZ("path"),Z5=WZ("events").EventEmitter,z5=q8().Minimatch;class vZ extends Z5{constructor(Z){Z=Z||{};super(Z);this.isSymbolicLink=Z.isSymbolicLink,this.path=Z.path||process.cwd(),this.basename=P0.basename(this.path),this.ignoreFiles=Z.ignoreFiles||[".ignore"],this.ignoreRules={},this.parent=Z.parent||null,this.includeEmpty=!!Z.includeEmpty,this.root=this.parent?this.parent.root:this.path,this.follow=!!Z.follow,this.result=this.parent?this.parent.result:new Set,this.entries=null,this.sawError=!1,this.exact=Z.exact}sort(Z,z){return Z.localeCompare(z,"en")}emit(Z,z){let K=!1;if(!(this.sawError&&Z==="error")){if(Z==="error")this.sawError=!0;else if(Z==="done"&&!this.parent)z=Array.from(z).map(($)=>/^@/.test($)?`./${$}`:$).sort(this.sort),this.result=z;if(Z==="error"&&this.parent)K=this.parent.emit("error",z);else K=super.emit(Z,z)}return K}start(){return KZ.readdir(this.path,(Z,z)=>Z?this.emit("error",Z):this.onReaddir(z)),this}isIgnoreFile(Z){return Z!=="."&&Z!==".."&&this.ignoreFiles.indexOf(Z)!==-1}onReaddir(Z){if(this.entries=Z,Z.length===0){if(this.includeEmpty)this.result.add(this.path.slice(this.root.length+1));this.emit("done",this.result)}else if(this.entries.some((K)=>this.isIgnoreFile(K)))this.addIgnoreFiles();else this.filterEntries()}addIgnoreFiles(){let Z=this.entries.filter(($)=>this.isIgnoreFile($)),z=Z.length,K=()=>{if(--z===0)this.filterEntries()};Z.forEach(($)=>this.addIgnoreFile($,K))}addIgnoreFile(Z,z){let K=P0.resolve(this.path,Z);KZ.readFile(K,"utf8",($,H)=>$?this.emit("error",$):this.onReadIgnoreFile(Z,H,z))}onReadIgnoreFile(Z,z,K){let $={matchBase:!0,dot:!0,flipNegate:!0,nocase:!0},H=z.split(/\r?\n/).filter((V)=>!/^#|^$/.test(V.trim())).map((V)=>{return new z5(V.trim(),$)});this.ignoreRules[Z]=H,K()}filterEntries(){let Z=this.entries.map((K)=>{let $=this.filterEntry(K),H=this.filterEntry(K,!0);return $||H?[K,$,H]:!1}).filter((K)=>K),z=Z.length;if(z===0)this.emit("done",this.result);else{let K=()=>{if(--z===0)this.emit("done",this.result)};Z.forEach(($)=>{let H=$[0],V=$[1],Q=$[2];this.stat({entry:H,file:V,dir:Q},K)})}}onstat({st:Z,entry:z,file:K,dir:$,isSymbolicLink:H},V){let Q=this.path+"/"+z;if(!Z.isDirectory()){if(K)this.result.add(Q.slice(this.root.length+1));V()}else if($)this.walker(z,{isSymbolicLink:H,exact:K||this.filterEntry(z+"/")},V);else V()}stat({entry:Z,file:z,dir:K},$){let H=this.path+"/"+Z;KZ.lstat(H,(V,Q)=>{if(V)this.emit("error",V);else{let X=Q.isSymbolicLink();if(this.follow&&X)KZ.stat(H,(J,U)=>{if(J)this.emit("error",J);else this.onstat({st:U,entry:Z,file:z,dir:K,isSymbolicLink:X},$)});else this.onstat({st:Q,entry:Z,file:z,dir:K,isSymbolicLink:X},$)}})}walkerOpt(Z,z){return{path:this.path+"/"+Z,parent:this,ignoreFiles:this.ignoreFiles,follow:this.follow,includeEmpty:this.includeEmpty,...z}}walker(Z,z,K){new vZ(this.walkerOpt(Z,z)).on("done",K).start()}filterEntry(Z,z,K){let $=!0;if(this.parent&&this.parent.filterEntry){let H=this.basename+"/"+Z,V=K||Z;if($=this.parent.filterEntry(H,z,V),!$&&!this.exact)return!1}return this.ignoreFiles.forEach((H)=>{if(this.ignoreRules[H])this.ignoreRules[H].forEach((V)=>{if(V.negate!==$){let Q=K&&V.globParts.some((J)=>J.length<=(J.slice(-1)[0]?1:2));if(V.match("/"+Z)||V.match(Z)||!!z&&(V.match("/"+Z+"/")||V.match(Z+"/")||V.negate&&(V.match("/"+Z,!0)||V.match(Z,!0))||Q&&(V.match("/"+K+"/")||V.match(K+"/")||V.negate&&(V.match("/"+K,!0)||V.match(K,!0)))))$=V.negate}})}),$}}class gZ extends vZ{start(){return this.onReaddir(KZ.readdirSync(this.path)),this}addIgnoreFile(Z,z){let K=P0.resolve(this.path,Z);this.onReadIgnoreFile(Z,KZ.readFileSync(K,"utf8"),z)}stat({entry:Z,file:z,dir:K},$){let H=this.path+"/"+Z,V=KZ.lstatSync(H),Q=V.isSymbolicLink();if(this.follow&&Q)V=KZ.statSync(H);this.onstat({st:V,entry:Z,file:z,dir:K,isSymbolicLink:Q},$)}walker(Z,z,K){new gZ(this.walkerOpt(Z,z)).start(),K()}}var mZ=(Z,z)=>{let K=new Promise(($,H)=>{new vZ(Z).on("done",$).on("error",H).start()});return z?K.then(($)=>z(null,$),z):K},K5=(Z)=>new gZ(Z).start().result;W8.exports=mZ;mZ.sync=K5;mZ.Walker=vZ;mZ.WalkerSync=gZ});var j8=k((N4,B8)=>{var BZ=1000,jZ=BZ*60,IZ=jZ*60,QZ=IZ*24,$5=QZ*7,H5=QZ*365.25;B8.exports=function(Z,z){z=z||{};var K=typeof Z;if(K==="string"&&Z.length>0)return V5(Z);else if(K==="number"&&isFinite(Z))return z.long?X5(Z):Q5(Z);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Z))};function V5(Z){if(Z=String(Z),Z.length>100)return;var z=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Z);if(!z)return;var K=parseFloat(z[1]),$=(z[2]||"ms").toLowerCase();switch($){case"years":case"year":case"yrs":case"yr":case"y":return K*H5;case"weeks":case"week":case"w":return K*$5;case"days":case"day":case"d":return K*QZ;case"hours":case"hour":case"hrs":case"hr":case"h":return K*IZ;case"minutes":case"minute":case"mins":case"min":case"m":return K*jZ;case"seconds":case"second":case"secs":case"sec":case"s":return K*BZ;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return K;default:return}}function Q5(Z){var z=Math.abs(Z);if(z>=QZ)return Math.round(Z/QZ)+"d";if(z>=IZ)return Math.round(Z/IZ)+"h";if(z>=jZ)return Math.round(Z/jZ)+"m";if(z>=BZ)return Math.round(Z/BZ)+"s";return Z+"ms"}function X5(Z){var z=Math.abs(Z);if(z>=QZ)return uZ(Z,z,QZ,"day");if(z>=IZ)return uZ(Z,z,IZ,"hour");if(z>=jZ)return uZ(Z,z,jZ,"minute");if(z>=BZ)return uZ(Z,z,BZ,"second");return Z+" ms"}function uZ(Z,z,K,$){var H=z>=K*1.5;return Math.round(Z/K)+" "+$+(H?"s":"")}});var v0=k((D4,I8)=>{function Y5(Z){K.debug=K,K.default=K,K.coerce=J,K.disable=Q,K.enable=H,K.enabled=X,K.humanize=j8(),K.destroy=U,Object.keys(Z).forEach((Y)=>{K[Y]=Z[Y]}),K.names=[],K.skips=[],K.formatters={};function z(Y){let q=0;for(let W=0;W<Y.length;W++)q=(q<<5)-q+Y.charCodeAt(W),q|=0;return K.colors[Math.abs(q)%K.colors.length]}K.selectColor=z;function K(Y){let q,W=null,B,N;function L(...v){if(!L.enabled)return;let _=L,b=Number(new Date),y=b-(q||b);if(_.diff=y,_.prev=q,_.curr=b,q=b,v[0]=K.coerce(v[0]),typeof v[0]!=="string")v.unshift("%O");let T=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(zZ,j0)=>{if(zZ==="%%")return"%";T++;let hZ=K.formatters[j0];if(typeof hZ==="function"){let I0=v[T];zZ=hZ.call(_,I0),v.splice(T,1),T--}return zZ}),K.formatArgs.call(_,v),(_.log||K.log).apply(_,v)}if(L.namespace=Y,L.useColors=K.useColors(),L.color=K.selectColor(Y),L.extend=$,L.destroy=K.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(W!==null)return W;if(B!==K.namespaces)B=K.namespaces,N=K.enabled(Y);return N},set:(v)=>{W=v}}),typeof K.init==="function")K.init(L);return L}function $(Y,q){let W=K(this.namespace+(typeof q==="undefined"?":":q)+Y);return W.log=this.log,W}function H(Y){K.save(Y),K.namespaces=Y,K.names=[],K.skips=[];let q=(typeof Y==="string"?Y:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let W of q)if(W[0]==="-")K.skips.push(W.slice(1));else K.names.push(W)}function V(Y,q){let W=0,B=0,N=-1,L=0;while(W<Y.length)if(B<q.length&&(q[B]===Y[W]||q[B]==="*"))if(q[B]==="*")N=B,L=W,B++;else W++,B++;else if(N!==-1)B=N+1,L++,W=L;else return!1;while(B<q.length&&q[B]==="*")B++;return B===q.length}function Q(){let Y=[...K.names,...K.skips.map((q)=>"-"+q)].join(",");return K.enable(""),Y}function X(Y){for(let q of K.skips)if(V(Y,q))return!1;for(let q of K.names)if(V(Y,q))return!0;return!1}function J(Y){if(Y instanceof Error)return Y.stack||Y.message;return Y}function U(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return K.enable(K.load()),K}I8.exports=Y5});var F8=k((G8,pZ)=>{G8.formatArgs=q5;G8.save=W5;G8.load=U5;G8.useColors=J5;G8.storage=B5();G8.destroy=(()=>{let Z=!1;return()=>{if(!Z)Z=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();G8.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function J5(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let Z;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&(Z=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(Z[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function q5(Z){if(Z[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+Z[0]+(this.useColors?"%c ":" ")+"+"+pZ.exports.humanize(this.diff),!this.useColors)return;let z="color: "+this.color;Z.splice(1,0,z,"color: inherit");let K=0,$=0;Z[0].replace(/%[a-zA-Z%]/g,(H)=>{if(H==="%%")return;if(K++,H==="%c")$=K}),Z.splice($,0,z)}G8.log=console.debug||console.log||(()=>{});function W5(Z){try{if(Z)G8.storage.setItem("debug",Z);else G8.storage.removeItem("debug")}catch(z){}}function U5(){let Z;try{Z=G8.storage.getItem("debug")||G8.storage.getItem("DEBUG")}catch(z){}if(!Z&&typeof process!=="undefined"&&"env"in process)Z=process.env.DEBUG;return Z}function B5(){try{return localStorage}catch(Z){}}pZ.exports=v0()(G8);var{formatters:j5}=pZ.exports;j5.j=function(Z){try{return JSON.stringify(Z)}catch(z){return"[UnexpectedJSONParseError]: "+z.message}}});var L8={};kz(L8,{default:()=>A5,createSupportsColor:()=>R0});import A0 from"node:process";import D5 from"node:os";import w8 from"node:tty";function i(Z,z=globalThis.Deno?globalThis.Deno.args:A0.argv){let K=Z.startsWith("-")?"":Z.length===1?"-":"--",$=z.indexOf(K+Z),H=z.indexOf("--");return $!==-1&&(H===-1||$<H)}function C5(){if(!("FORCE_COLOR"in R))return;if(R.FORCE_COLOR==="true")return 1;if(R.FORCE_COLOR==="false")return 0;if(R.FORCE_COLOR.length===0)return 1;let Z=Math.min(Number.parseInt(R.FORCE_COLOR,10),3);if(![0,1,2,3].includes(Z))return;return Z}function P5(Z){if(Z===0)return!1;return{level:Z,hasBasic:!0,has256:Z>=2,has16m:Z>=3}}function v5(Z,{streamIsTTY:z,sniffFlags:K=!0}={}){let $=C5();if($!==void 0)lZ=$;let H=K?lZ:$;if(H===0)return 0;if(K){if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2}if("TF_BUILD"in R&&"AGENT_NAME"in R)return 1;if(Z&&!z&&H===void 0)return 0;let V=H||0;if(R.TERM==="dumb")return V;if(A0.platform==="win32"){let Q=D5.release().split(".");if(Number(Q[0])>=10&&Number(Q[2])>=10586)return Number(Q[2])>=14931?3:2;return 1}if("CI"in R){if(["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some((Q)=>(Q in R)))return 3;if(["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((Q)=>(Q in R))||R.CI_NAME==="codeship")return 1;return V}if("TEAMCITY_VERSION"in R)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(R.TEAMCITY_VERSION)?1:0;if(R.COLORTERM==="truecolor")return 3;if(R.TERM==="xterm-kitty")return 3;if(R.TERM==="xterm-ghostty")return 3;if(R.TERM==="wezterm")return 3;if("TERM_PROGRAM"in R){let Q=Number.parseInt((R.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(R.TERM_PROGRAM){case"iTerm.app":return Q>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(R.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(R.TERM))return 1;if("COLORTERM"in R)return 1;return V}function R0(Z,z={}){let K=v5(Z,{streamIsTTY:Z&&Z.isTTY,...z});return P5(K)}var R,lZ,R5,A5;var M8=bz(()=>{({env:R}=A0);if(i("no-color")||i("no-colors")||i("color=false")||i("color=never"))lZ=0;else if(i("color")||i("colors")||i("color=true")||i("color=always"))lZ=1;R5={stdout:R0({isTTY:w8.isatty(1)}),stderr:R0({isTTY:w8.isatty(2)})},A5=R5});var P8=k((D8,nZ)=>{var E5=WZ("tty"),oZ=WZ("util");D8.init=x5;D8.log=y5;D8.formatArgs=S5;D8.save=k5;D8.load=b5;D8.useColors=O5;D8.destroy=oZ.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");D8.colors=[6,2,3,4,5,1];try{let Z=(M8(),yz(L8));if(Z&&(Z.stderr||Z).level>=2)D8.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(Z){}D8.inspectOpts=Object.keys(process.env).filter((Z)=>{return/^debug_/i.test(Z)}).reduce((Z,z)=>{let K=z.substring(6).toLowerCase().replace(/_([a-z])/g,(H,V)=>{return V.toUpperCase()}),$=process.env[z];if(/^(yes|on|true|enabled)$/i.test($))$=!0;else if(/^(no|off|false|disabled)$/i.test($))$=!1;else if($==="null")$=null;else $=Number($);return Z[K]=$,Z},{});function O5(){return"colors"in D8.inspectOpts?Boolean(D8.inspectOpts.colors):E5.isatty(process.stderr.fd)}function S5(Z){let{namespace:z,useColors:K}=this;if(K){let $=this.color,H="\x1B[3"+($<8?$:"8;5;"+$),V=`  ${H};1m${z} \x1B[0m`;Z[0]=V+Z[0].split(`
`).join(`
`+V),Z.push(H+"m+"+nZ.exports.humanize(this.diff)+"\x1B[0m")}else Z[0]=T5()+z+" "+Z[0]}function T5(){if(D8.inspectOpts.hideDate)return"";return new Date().toISOString()+" "}function y5(...Z){return process.stderr.write(oZ.formatWithOptions(D8.inspectOpts,...Z)+`
`)}function k5(Z){if(Z)process.env.DEBUG=Z;else delete process.env.DEBUG}function b5(){return process.env.DEBUG}function x5(Z){Z.inspectOpts={};let z=Object.keys(D8.inspectOpts);for(let K=0;K<z.length;K++)Z.inspectOpts[z[K]]=D8.inspectOpts[z[K]]}nZ.exports=v0()(D8);var{formatters:N8}=nZ.exports;N8.o=function(Z){return this.inspectOpts.colors=this.useColors,oZ.inspect(Z,this.inspectOpts).split(`
`).map((z)=>z.trim()).join(" ")};N8.O=function(Z){return this.inspectOpts.colors=this.useColors,oZ.inspect(Z,this.inspectOpts)}});var O0=k((E4,E0)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)E0.exports=F8();else E0.exports=P8()});var v8=k((l)=>{var u5=l&&l.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(l,"__esModule",{value:!0});var p5=WZ("fs"),l5=u5(O0()),GZ=l5.default("@kwsites/file-exists");function o5(Z,z,K){GZ("checking %s",Z);try{let $=p5.statSync(Z);if($.isFile()&&z)return GZ("[OK] path represents a file"),!0;if($.isDirectory()&&K)return GZ("[OK] path represents a directory"),!0;return GZ("[FAIL] path represents something other than a file or directory"),!1}catch($){if($.code==="ENOENT")return GZ("[FAIL] path is not accessible: %o",$),!1;throw GZ("[FATAL] %o",$),$}}function n5(Z,z=l.READABLE){return o5(Z,(z&l.FILE)>0,(z&l.FOLDER)>0)}l.exists=n5;l.FILE=1;l.FOLDER=2;l.READABLE=l.FILE+l.FOLDER});var R8=k((S0)=>{function i5(Z){for(var z in Z)if(!S0.hasOwnProperty(z))S0[z]=Z[z]}Object.defineProperty(S0,"__esModule",{value:!0});i5(v8())});var y0=k((A8)=>{Object.defineProperty(A8,"__esModule",{value:!0});A8.createDeferred=A8.deferred=void 0;function T0(){let Z,z,K="pending";return{promise:new Promise((H,V)=>{Z=H,z=V}),done(H){if(K==="pending")K="resolved",Z(H)},fail(H){if(K==="pending")K="rejected",z(H)},get fulfilled(){return K!=="pending"},get status(){return K}}}A8.deferred=T0;A8.createDeferred=T0;A8.default=T0});var Qz=NZ(U8(),1);var V0=NZ(R8(),1),K0=NZ(O0(),1),b9=NZ(y0(),1),FZ=NZ(y0(),1);import{Buffer as K$}from"node:buffer";import{spawn as _$}from"child_process";import{EventEmitter as eV}from"node:events";var{defineProperty:t0,getOwnPropertyDescriptor:r5,getOwnPropertyNames:e0}=Object,t5=Object.prototype.hasOwnProperty,I=(Z,z)=>function K(){return Z&&(z=(0,Z[e0(Z)[0]])(Z=0)),z},e5=(Z,z)=>function K(){return z||(0,Z[e0(Z)[0]])((z={exports:{}}).exports,z),z.exports},S=(Z,z)=>{for(var K in z)t0(Z,K,{get:z[K],enumerable:!0})},Z$=(Z,z,K,$)=>{if(z&&typeof z==="object"||typeof z==="function"){for(let H of e0(z))if(!t5.call(Z,H)&&H!==K)t0(Z,H,{get:()=>z[H],enumerable:!($=r5(z,H))||$.enumerable})}return Z},A=(Z)=>Z$(t0({},"__esModule",{value:!0}),Z);function z$(...Z){let z=new String(Z);return H0.set(z,Z),z}function eZ(Z){return Z instanceof String&&H0.has(Z)}function O8(Z){return H0.get(Z)||[]}var H0,SZ=I({"src/lib/args/pathspec.ts"(){H0=new WeakMap}}),ZZ,HZ=I({"src/lib/errors/git-error.ts"(){ZZ=class extends Error{constructor(Z,z){super(z);this.task=Z,Object.setPrototypeOf(this,new.target.prototype)}}}}),TZ,LZ=I({"src/lib/errors/git-response-error.ts"(){HZ(),TZ=class extends ZZ{constructor(Z,z){super(void 0,z||String(Z));this.git=Z}}}}),Q6,X6=I({"src/lib/errors/task-configuration-error.ts"(){HZ(),Q6=class extends ZZ{constructor(Z){super(void 0,Z)}}}});function Y6(Z){if(typeof Z!=="function")return qZ;return Z}function J6(Z){return typeof Z==="function"&&Z!==qZ}function q6(Z,z){let K=Z.indexOf(z);if(K<=0)return[Z,""];return[Z.substr(0,K),Z.substr(K+1)]}function W6(Z,z=0){return U6(Z)&&Z.length>z?Z[z]:void 0}function JZ(Z,z=0){if(U6(Z)&&Z.length>z)return Z[Z.length-1-z]}function U6(Z){return!!(Z&&typeof Z.length==="number")}function yZ(Z="",z=!0,K=`
`){return Z.split(K).reduce(($,H)=>{let V=z?H.trim():H;if(V)$.push(V);return $},[])}function Z7(Z,z){return yZ(Z,!0).map((K)=>z(K))}function z7(Z){return V0.exists(Z,V0.FOLDER)}function D(Z,z){if(Array.isArray(Z)){if(!Z.includes(z))Z.push(z)}else Z.add(z);return z}function B6(Z,z){if(Array.isArray(Z)&&!Z.includes(z))Z.push(z);return Z}function Q0(Z,z){if(Array.isArray(Z)){let K=Z.indexOf(z);if(K>=0)Z.splice(K,1)}else Z.delete(z);return z}function r(Z){return Array.isArray(Z)?Z:[Z]}function j6(Z){return Z.replace(/[\s-]+(.)/g,(z,K)=>{return K.toUpperCase()})}function I6(Z){return r(Z).map(String)}function P(Z,z=0){if(Z==null)return z;let K=parseInt(Z,10);return isNaN(K)?z:K}function EZ(Z,z){let K=[];for(let $=0,H=Z.length;$<H;$++)K.push(z,Z[$]);return K}function OZ(Z){return(Array.isArray(Z)?K$.concat(Z):Z).toString("utf-8")}function G6(Z,z){return Object.assign({},...z.map((K)=>(K in Z)?{[K]:Z[K]}:{}))}function d0(Z=0){return new Promise((z)=>setTimeout(z,Z))}function c0(Z){if(Z===!1)return;return Z}var wZ,qZ,kZ,X0=I({"src/lib/utils/util.ts"(){wZ="\x00",qZ=()=>{},kZ=Object.prototype.toString.call.bind(Object.prototype.toString)}});function t(Z,z,K){if(z(Z))return Z;return arguments.length>2?K:void 0}function g0(Z,z){let K=eZ(Z)?"string":typeof Z;return/number|string|boolean/.test(K)&&(!z||!z.includes(K))}function Y0(Z){return!!Z&&kZ(Z)==="[object Object]"}function F6(Z){return typeof Z==="function"}var bZ,h,w6,Z0,K7,L6=I({"src/lib/utils/argument-filters.ts"(){X0(),SZ(),bZ=(Z)=>{return Array.isArray(Z)},h=(Z)=>{return typeof Z==="string"},w6=(Z)=>{return Array.isArray(Z)&&Z.every(h)},Z0=(Z)=>{return h(Z)||Array.isArray(Z)&&Z.every(h)},K7=(Z)=>{if(Z==null||"number|boolean|function".includes(typeof Z))return!1;return Array.isArray(Z)||typeof Z==="string"||typeof Z.length==="number"}}}),m0,$$=I({"src/lib/utils/exit-codes.ts"(){m0=((Z)=>{return Z[Z.SUCCESS=0]="SUCCESS",Z[Z.ERROR=1]="ERROR",Z[Z.NOT_FOUND=-2]="NOT_FOUND",Z[Z.UNCLEAN=128]="UNCLEAN",Z})(m0||{})}}),z0,H$=I({"src/lib/utils/git-output-streams.ts"(){z0=class Z{constructor(z,K){this.stdOut=z,this.stdErr=K}asStrings(){return new Z(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),M,$Z,V$=I({"src/lib/utils/line-parser.ts"(){M=class{constructor(Z,z){if(this.matches=[],this.parse=(K,$)=>{if(this.resetMatches(),!this._regExp.every((H,V)=>this.addMatch(H,V,K(V))))return!1;return this.useMatches($,this.prepareMatches())!==!1},this._regExp=Array.isArray(Z)?Z:[Z],z)this.useMatches=z}useMatches(Z,z){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(Z,z,K){let $=K&&Z.exec(K);if($)this.pushMatch(z,$);return!!$}pushMatch(Z,z){this.matches.push(...z.slice(1))}},$Z=class extends M{addMatch(Z,z,K){return/^remote:\s/.test(String(K))&&super.addMatch(Z,z,K)}pushMatch(Z,z){if(Z>0||z.length>1)super.pushMatch(Z,z)}}}});function M6(...Z){let z=process.cwd(),K=Object.assign({baseDir:z,...N6},...Z.filter(($)=>typeof $==="object"&&$));return K.baseDir=K.baseDir||z,K.trimmed=K.trimmed===!0,K}var N6,Q$=I({"src/lib/utils/simple-git-options.ts"(){N6={binary:"git",maxConcurrentProcesses:5,config:[],trimmed:!1}}});function $7(Z,z=[]){if(!Y0(Z))return z;return Object.keys(Z).reduce((K,$)=>{let H=Z[$];if(eZ(H))K.push(H);else if(g0(H,["boolean"]))K.push($+"="+H);else if(Array.isArray(H)){for(let V of H)if(!g0(V,["string","number"]))K.push($+"="+V)}else K.push($);return K},z)}function g(Z,z=0,K=!1){let $=[];for(let H=0,V=z<0?Z.length:z;H<V;H++)if("string|number".includes(typeof Z[H]))$.push(String(Z[H]));if($7(H7(Z),$),!K)$.push(...X$(Z));return $}function X$(Z){let z=typeof JZ(Z)==="function";return t(JZ(Z,z?1:0),bZ,[])}function H7(Z){let z=F6(JZ(Z));return t(JZ(Z,z?1:0),Y0)}function E(Z,z=!0){let K=Y6(JZ(Z));return z||J6(K)?K:void 0}var Y$=I({"src/lib/utils/task-options.ts"(){L6(),X0(),SZ()}});function u0(Z,z){return Z(z.stdOut,z.stdErr)}function u(Z,z,K,$=!0){return r(K).forEach((H)=>{for(let V=yZ(H,$),Q=0,X=V.length;Q<X;Q++){let J=(U=0)=>{if(Q+U>=X)return;return V[Q+U]};z.some(({parse:U})=>U(J,Z))}}),Z}var J$=I({"src/lib/utils/task-parser.ts"(){X0()}}),D6={};S(D6,{ExitCodes:()=>m0,GitOutputStreams:()=>z0,LineParser:()=>M,NOOP:()=>qZ,NULL:()=>wZ,RemoteLineParser:()=>$Z,append:()=>D,appendTaskOptions:()=>$7,asArray:()=>r,asCamelCase:()=>j6,asFunction:()=>Y6,asNumber:()=>P,asStringArray:()=>I6,bufferToString:()=>OZ,callTaskParser:()=>u0,createInstanceConfig:()=>M6,delay:()=>d0,filterArray:()=>bZ,filterFunction:()=>F6,filterHasLength:()=>K7,filterPlainObject:()=>Y0,filterPrimitives:()=>g0,filterString:()=>h,filterStringArray:()=>w6,filterStringOrStringArray:()=>Z0,filterType:()=>t,first:()=>W6,folderExists:()=>z7,forEachLineWithContent:()=>Z7,getTrailingOptions:()=>g,including:()=>B6,isUserFunction:()=>J6,last:()=>JZ,objectToString:()=>kZ,orVoid:()=>c0,parseStringResponse:()=>u,pick:()=>G6,prefixedArray:()=>EZ,remove:()=>Q0,splitOn:()=>q6,toLinesWithContent:()=>yZ,trailingFunctionArgument:()=>E,trailingOptionsArgument:()=>H7});var w=I({"src/lib/utils/index.ts"(){L6(),$$(),H$(),V$(),Q$(),Y$(),J$(),X0()}}),C6={};S(C6,{CheckRepoActions:()=>p0,checkIsBareRepoTask:()=>v6,checkIsRepoRootTask:()=>P6,checkIsRepoTask:()=>q$});function q$(Z){switch(Z){case"bare":return v6();case"root":return P6()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:J0,parser:V7}}function P6(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:J0,parser(z){return/^\.(git)?$/.test(z.trim())}}}function v6(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:J0,parser:V7}}function W$(Z){return/(Not a git repository|Kein Git-Repository)/i.test(String(Z))}var p0,J0,V7,R6=I({"src/lib/tasks/check-is-repo.ts"(){w(),p0=((Z)=>{return Z.BARE="bare",Z.IN_TREE="tree",Z.IS_REPO_ROOT="root",Z})(p0||{}),J0=({exitCode:Z},z,K,$)=>{if(Z===128&&W$(z))return K(Buffer.from("false"));$(z)},V7=(Z)=>{return Z.trim()==="true"}}});function U$(Z,z){let K=new A6(Z),$=Z?O6:E6;return yZ(z).forEach((H)=>{let V=H.replace($,"");K.paths.push(V),(S6.test(V)?K.folders:K.files).push(V)}),K}var A6,E6,O6,S6,B$=I({"src/lib/responses/CleanSummary.ts"(){w(),A6=class{constructor(Z){this.dryRun=Z,this.paths=[],this.files=[],this.folders=[]}},E6=/^[a-z]+\s*/i,O6=/^[a-z]+\s+[a-z]+\s*/i,S6=/\/$/}}),l0={};S(l0,{EMPTY_COMMANDS:()=>q0,adhocExecTask:()=>T6,configurationErrorTask:()=>m,isBufferTask:()=>k6,isEmptyTask:()=>b6,straightThroughBufferTask:()=>y6,straightThroughStringTask:()=>d});function T6(Z){return{commands:q0,format:"empty",parser:Z}}function m(Z){return{commands:q0,format:"empty",parser(){throw typeof Z==="string"?new Q6(Z):Z}}}function d(Z,z=!1){return{commands:Z,format:"utf-8",parser(K){return z?String(K).trim():K}}}function y6(Z){return{commands:Z,format:"buffer",parser(z){return z}}}function k6(Z){return Z.format==="buffer"}function b6(Z){return Z.format==="empty"||!Z.commands.length}var q0,O=I({"src/lib/tasks/task.ts"(){X6(),q0=[]}}),x6={};S(x6,{CONFIG_ERROR_INTERACTIVE_MODE:()=>Q7,CONFIG_ERROR_MODE_REQUIRED:()=>X7,CONFIG_ERROR_UNKNOWN_OPTION:()=>Y7,CleanOptions:()=>aZ,cleanTask:()=>h6,cleanWithOptionsTask:()=>j$,isCleanOptionsArray:()=>I$});function j$(Z,z){let{cleanMode:K,options:$,valid:H}=G$(Z);if(!K)return m(X7);if(!H.options)return m(Y7+JSON.stringify(Z));if($.push(...z),$.some(L$))return m(Q7);return h6(K,$)}function h6(Z,z){return{commands:["clean",`-${Z}`,...z],format:"utf-8",parser($){return U$(Z==="n",$)}}}function I$(Z){return Array.isArray(Z)&&Z.every((z)=>J7.has(z))}function G$(Z){let z,K=[],$={cleanMode:!1,options:!0};return Z.replace(/[^a-z]i/g,"").split("").forEach((H)=>{if(F$(H))z=H,$.cleanMode=!0;else $.options=$.options&&w$(K[K.length]=`-${H}`)}),{cleanMode:z,options:K,valid:$}}function F$(Z){return Z==="f"||Z==="n"}function w$(Z){return/^-[a-z]$/i.test(Z)&&J7.has(Z.charAt(1))}function L$(Z){if(/^-[^\-]/.test(Z))return Z.indexOf("i")>0;return Z==="--interactive"}var Q7,X7,Y7,aZ,J7,_6=I({"src/lib/tasks/clean.ts"(){B$(),w(),O(),Q7="Git clean interactive mode is not supported",X7='Git clean mode parameter ("n" or "f") is required',Y7="Git clean unknown option found in: ",aZ=((Z)=>{return Z.DRY_RUN="n",Z.FORCE="f",Z.IGNORED_INCLUDED="x",Z.IGNORED_ONLY="X",Z.EXCLUDING="e",Z.QUIET="q",Z.RECURSIVE="d",Z})(aZ||{}),J7=new Set(["i",...I6(Object.values(aZ))])}});function M$(Z){let z=new d6;for(let K of f6(Z))z.addValue(K.file,String(K.key),K.value);return z}function N$(Z,z){let K=null,$=[],H=new Map;for(let V of f6(Z,z)){if(V.key!==z)continue;if($.push(K=V.value),!H.has(V.file))H.set(V.file,[]);H.get(V.file).push(K)}return{key:z,paths:Array.from(H.keys()),scopes:H,value:K,values:$}}function D$(Z){return Z.replace(/^(file):/,"")}function*f6(Z,z=null){let K=Z.split("\x00");for(let $=0,H=K.length-1;$<H;){let V=D$(K[$++]),Q=K[$++],X=z;if(Q.includes(`
`)){let J=q6(Q,`
`);X=J[0],Q=J[1]}yield{file:V,key:X,value:Q}}}var d6,C$=I({"src/lib/responses/ConfigList.ts"(){w(),d6=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){if(!this._all)this._all=this.files.reduce((Z,z)=>{return Object.assign(Z,this.values[z])},{});return this._all}addFile(Z){if(!(Z in this.values)){let z=JZ(this.files);this.values[Z]=z?Object.create(this.values[z]):{},this.files.push(Z)}return this.values[Z]}addValue(Z,z,K){let $=this.addFile(Z);if(!$.hasOwnProperty(z))$[z]=K;else if(Array.isArray($[z]))$[z].push(K);else $[z]=[$[z],K];this._all=void 0}}}});function k0(Z,z){if(typeof Z==="string"&&o0.hasOwnProperty(Z))return Z;return z}function P$(Z,z,K,$){let H=["config",`--${$}`];if(K)H.push("--add");return H.push(Z,z),{commands:H,format:"utf-8",parser(V){return V}}}function v$(Z,z){let K=["config","--null","--show-origin","--get-all",Z];if(z)K.splice(1,0,`--${z}`);return{commands:K,format:"utf-8",parser($){return N$($,Z)}}}function R$(Z){let z=["config","--list","--show-origin","--null"];if(Z)z.push(`--${Z}`);return{commands:z,format:"utf-8",parser(K){return M$(K)}}}function A$(){return{addConfig(Z,z,...K){return this._runTask(P$(Z,z,K[0]===!0,k0(K[1],"local")),E(arguments))},getConfig(Z,z){return this._runTask(v$(Z,k0(z,void 0)),E(arguments))},listConfig(...Z){return this._runTask(R$(k0(Z[0],void 0)),E(arguments))}}}var o0,c6=I({"src/lib/tasks/config.ts"(){C$(),w(),o0=((Z)=>{return Z.system="system",Z.global="global",Z.local="local",Z.worktree="worktree",Z})(o0||{})}});function E$(Z){return g6.has(Z)}var b0,g6,m6=I({"src/lib/tasks/diff-name-status.ts"(){b0=((Z)=>{return Z.ADDED="A",Z.COPIED="C",Z.DELETED="D",Z.MODIFIED="M",Z.RENAMED="R",Z.CHANGED="T",Z.UNMERGED="U",Z.UNKNOWN="X",Z.BROKEN="B",Z})(b0||{}),g6=new Set(Object.values(b0))}});function O$(...Z){return new p6().param(...Z)}function S$(Z){let z=new Set,K={};return Z7(Z,($)=>{let[H,V,Q]=$.split(wZ);z.add(H),(K[H]=K[H]||[]).push({line:P(V),path:H,preview:Q})}),{paths:z,results:K}}function T$(){return{grep(Z){let z=E(arguments),K=g(arguments);for(let H of u6)if(K.includes(H))return this._runTask(m(`git.grep: use of "${H}" is not supported.`),z);if(typeof Z==="string")Z=O$().param(Z);let $=["grep","--null","-n","--full-name",...K,...Z];return this._runTask({commands:$,format:"utf-8",parser(H){return S$(H)}},z)}}}var u6,AZ,S8,p6,l6=I({"src/lib/tasks/grep.ts"(){w(),O(),u6=["-h"],AZ=Symbol("grepQuery"),p6=class{constructor(){this[S8]=[]}*[(S8=AZ,Symbol.iterator)](){for(let Z of this[AZ])yield Z}and(...Z){return Z.length&&this[AZ].push("--and","(",...EZ(Z,"-e"),")"),this}param(...Z){return this[AZ].push(...EZ(Z,"-e")),this}}}}),o6={};S(o6,{ResetMode:()=>sZ,getResetMode:()=>k$,resetTask:()=>y$});function y$(Z,z){let K=["reset"];if(n6(Z))K.push(`--${Z}`);return K.push(...z),d(K)}function k$(Z){if(n6(Z))return Z;switch(typeof Z){case"string":case"undefined":return"soft"}return}function n6(Z){return i6.includes(Z)}var sZ,i6,a6=I({"src/lib/tasks/reset.ts"(){O(),sZ=((Z)=>{return Z.MIXED="mixed",Z.SOFT="soft",Z.HARD="hard",Z.MERGE="merge",Z.KEEP="keep",Z})(sZ||{}),i6=Array.from(Object.values(sZ))}});function b$(){return K0.default("simple-git")}function T8(Z,z,K){if(!z||!String(z).replace(/\s*/,""))return!K?Z:($,...H)=>{Z($,...H),K($,...H)};return($,...H)=>{if(Z(`%s ${$}`,z,...H),K)K($,...H)}}function x$(Z,z,{namespace:K}){if(typeof Z==="string")return Z;let $=z&&z.namespace||"";if($.startsWith(K))return $.substr(K.length+1);return $||K}function q7(Z,z,K,$=b$()){let H=Z&&`[${Z}]`||"",V=[],Q=typeof z==="string"?$.extend(z):z,X=x$(t(z,h),Q,$);return U(K);function J(Y,q){return D(V,q7(Z,X.replace(/^[^:]+/,Y),q,$))}function U(Y){let q=Y&&`[${Y}]`||"",W=Q&&T8(Q,q)||qZ,B=T8($,`${H} ${q}`,W);return Object.assign(Q?W:B,{label:Z,sibling:J,info:B,step:U})}}var s6=I({"src/lib/git-logger.ts"(){w(),K0.default.formatters.L=(Z)=>String(K7(Z)?Z.length:"-"),K0.default.formatters.B=(Z)=>{if(Buffer.isBuffer(Z))return Z.toString("utf8");return kZ(Z)}}}),r6,h$=I({"src/lib/runners/tasks-pending-queue.ts"(){HZ(),s6(),r6=class Z{constructor(z="GitExecutor"){this.logLabel=z,this._queue=new Map}withProgress(z){return this._queue.get(z)}createProgress(z){let K=Z.getName(z.commands[0]),$=q7(this.logLabel,K);return{task:z,logger:$,name:K}}push(z){let K=this.createProgress(z);return K.logger("Adding task to the queue, commands = %o",z.commands),this._queue.set(z,K),K}fatal(z){for(let[K,{logger:$}]of Array.from(this._queue.entries())){if(K===z.task)$.info("Failed %o",z),$("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted");else $.info("A fatal exception occurred in a previous task, the queue has been purged: %o",z.message);this.complete(K)}if(this._queue.size!==0)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(z){if(this.withProgress(z))this._queue.delete(z)}attempt(z){let K=this.withProgress(z);if(!K)throw new ZZ(void 0,"TasksPendingQueue: attempt called for an unknown task");return K.logger("Starting task"),K}static getName(z="empty"){return`task:${z}:${++Z.counter}`}static{this.counter=0}}}});function YZ(Z,z){return{method:W6(Z.commands)||"",commands:z}}function f$(Z,z){return(K)=>{z("[ERROR] child process exception %o",K),Z.push(Buffer.from(String(K.stack),"ascii"))}}function y8(Z,z,K,$){return(H)=>{K("%s received %L bytes",z,H),$("%B",H),Z.push(H)}}var n0,d$=I({"src/lib/runners/git-executor-chain.ts"(){HZ(),O(),w(),h$(),n0=class{constructor(Z,z,K){this._executor=Z,this._scheduler=z,this._plugins=K,this._chain=Promise.resolve(),this._queue=new r6}get cwd(){return this._cwd||this._executor.cwd}set cwd(Z){this._cwd=Z}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(Z){return this._queue.push(Z),this._chain=this._chain.then(()=>this.attemptTask(Z))}async attemptTask(Z){let z=await this._scheduler.next(),K=()=>this._queue.complete(Z);try{let{logger:$}=this._queue.attempt(Z);return await(b6(Z)?this.attemptEmptyTask(Z,$):this.attemptRemoteTask(Z,$))}catch($){throw this.onFatalException(Z,$)}finally{K(),z()}}onFatalException(Z,z){let K=z instanceof ZZ?Object.assign(z,{task:Z}):new ZZ(Z,z&&String(z));return this._chain=Promise.resolve(),this._queue.fatal(K),K}async attemptRemoteTask(Z,z){let K=this._plugins.exec("spawn.binary","",YZ(Z,Z.commands)),$=this._plugins.exec("spawn.args",[...Z.commands],YZ(Z,Z.commands)),H=await this.gitResponse(Z,K,$,this.outputHandler,z.step("SPAWN")),V=await this.handleTaskData(Z,$,H,z.step("HANDLE"));if(z("passing response to task's parser as a %s",Z.format),k6(Z))return u0(Z.parser,V);return u0(Z.parser,V.asStrings())}async attemptEmptyTask(Z,z){return z("empty task bypassing child process to call to task's parser"),Z.parser(this)}handleTaskData(Z,z,K,$){let{exitCode:H,rejection:V,stdOut:Q,stdErr:X}=K;return new Promise((J,U)=>{$("Preparing to handle process response exitCode=%d stdOut=",H);let{error:Y}=this._plugins.exec("task.error",{error:V},{...YZ(Z,z),...K});if(Y&&Z.onError)return $.info("exitCode=%s handling with custom error handler"),Z.onError(K,Y,(q)=>{$.info("custom error handler treated as success"),$("custom error returned a %s",kZ(q)),J(new z0(Array.isArray(q)?Buffer.concat(q):q,Buffer.concat(X)))},U);if(Y)return $.info("handling as error: exitCode=%s stdErr=%s rejection=%o",H,X.length,V),U(Y);$.info("retrieving task output complete"),J(new z0(Buffer.concat(Q),Buffer.concat(X)))})}async gitResponse(Z,z,K,$,H){let V=H.sibling("output"),Q=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},YZ(Z,Z.commands));return new Promise((X)=>{let J=[],U=[];H.info("%s %o",z,K),H("%O",Q);let Y=this._beforeSpawn(Z,K);if(Y)return X({stdOut:J,stdErr:U,exitCode:9901,rejection:Y});this._plugins.exec("spawn.before",void 0,{...YZ(Z,K),kill(W){Y=W||Y}});let q=_$(z,K,Q);if(q.stdout.on("data",y8(J,"stdOut",H,V.step("stdOut"))),q.stderr.on("data",y8(U,"stdErr",H,V.step("stdErr"))),q.on("error",f$(U,H)),$)H("Passing child process stdOut/stdErr to custom outputHandler"),$(z,q.stdout,q.stderr,[...K]);this._plugins.exec("spawn.after",void 0,{...YZ(Z,K),spawned:q,close(W,B){X({stdOut:J,stdErr:U,exitCode:W,rejection:Y||B})},kill(W){if(q.killed)return;Y=W,q.kill("SIGINT")}})})}_beforeSpawn(Z,z){let K;return this._plugins.exec("spawn.before",void 0,{...YZ(Z,z),kill($){K=$||K}}),K}}}}),t6={};S(t6,{GitExecutor:()=>e6});var e6,c$=I({"src/lib/runners/git-executor.ts"(){d$(),e6=class{constructor(Z,z,K){this.cwd=Z,this._scheduler=z,this._plugins=K,this._chain=new n0(this,this._scheduler,this._plugins)}chain(){return new n0(this,this._scheduler,this._plugins)}push(Z){return this._chain.push(Z)}}}});function g$(Z,z,K=qZ){let $=(V)=>{K(null,V)},H=(V)=>{if(V?.task===Z)K(V instanceof TZ?m$(V):V,void 0)};z.then($,H)}function m$(Z){let z=($)=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${$} should be GitResponseError.git.${$}, this will no longer be available in version 3`),z=qZ};return Object.create(Z,Object.getOwnPropertyNames(Z.git).reduce(K,{}));function K($,H){if(H in Z)return $;return $[H]={enumerable:!1,configurable:!1,get(){return z(H),Z.git[H]}},$}}var u$=I({"src/lib/task-callback.ts"(){LZ(),w()}});function k8(Z,z){return T6((K)=>{if(!z7(Z))throw new Error(`Git.cwd: cannot change to non-directory "${Z}"`);return(z||K).cwd=Z})}var p$=I({"src/lib/tasks/change-working-directory.ts"(){w(),O()}});function x0(Z){let z=["checkout",...Z];if(z[1]==="-b"&&z.includes("-B"))z[1]=Q0(z,"-B");return d(z)}function l$(){return{checkout(){return this._runTask(x0(g(arguments,1)),E(arguments))},checkoutBranch(Z,z){return this._runTask(x0(["-b",Z,z,...g(arguments)]),E(arguments))},checkoutLocalBranch(Z){return this._runTask(x0(["-b",Z,...g(arguments)]),E(arguments))}}}var o$=I({"src/lib/tasks/checkout.ts"(){w(),O()}});function n$(){return{count:0,garbage:0,inPack:0,packs:0,prunePackable:0,size:0,sizeGarbage:0,sizePack:0}}function i$(){return{countObjects(){return this._runTask({commands:["count-objects","--verbose"],format:"utf-8",parser(Z){return u(n$(),[Z9],Z)}})}}}var Z9,a$=I({"src/lib/tasks/count-objects.ts"(){w(),Z9=new M(/([a-z-]+): (\d+)$/,(Z,[z,K])=>{let $=j6(z);if(Z.hasOwnProperty($))Z[$]=P(K)})}});function s$(Z){return u({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},z9,Z)}var z9,r$=I({"src/lib/parsers/parse-commit.ts"(){w(),z9=[new M(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,(Z,[z,K,$])=>{Z.branch=z,Z.commit=$,Z.root=!!K}),new M(/\s*Author:\s(.+)/i,(Z,[z])=>{let K=z.split("<"),$=K.pop();if(!$||!$.includes("@"))return;Z.author={email:$.substr(0,$.length-1),name:K.join("<").trim()}}),new M(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,(Z,[z,K,$])=>{Z.summary.changes=parseInt(z,10)||0,Z.summary.insertions=parseInt(K,10)||0,Z.summary.deletions=parseInt($,10)||0}),new M(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,(Z,[z,K,$])=>{Z.summary.changes=parseInt(z,10)||0;let H=parseInt(K,10)||0;if($==="-")Z.summary.deletions=H;else if($==="+")Z.summary.insertions=H})]}});function t$(Z,z,K){return{commands:["-c","core.abbrev=40","commit",...EZ(Z,"-m"),...z,...K],format:"utf-8",parser:s$}}function e$(){return{commit(z,...K){let $=E(arguments),H=Z(z)||t$(r(z),r(t(K[0],Z0,[])),[...t(K[1],bZ,[]),...g(arguments,0,!0)]);return this._runTask(H,$)}};function Z(z){return!Z0(z)&&m("git.commit: requires the commit message to be supplied as a string/string[]")}}var ZH=I({"src/lib/tasks/commit.ts"(){r$(),w(),O()}});function zH(){return{firstCommit(){return this._runTask(d(["rev-list","--max-parents=0","HEAD"],!0),E(arguments))}}}var KH=I({"src/lib/tasks/first-commit.ts"(){w(),O()}});function $H(Z,z){let K=["hash-object",Z];if(z)K.push("-w");return d(K,!0)}var HH=I({"src/lib/tasks/hash-object.ts"(){O()}});function VH(Z,z,K){let $=String(K).trim(),H;if(H=K9.exec($))return new rZ(Z,z,!1,H[1]);if(H=$9.exec($))return new rZ(Z,z,!0,H[1]);let V="",Q=$.split(" ");while(Q.length)if(Q.shift()==="in"){V=Q.join(" ");break}return new rZ(Z,z,/^re/i.test($),V)}var rZ,K9,$9,QH=I({"src/lib/responses/InitSummary.ts"(){rZ=class{constructor(Z,z,K,$){this.bare=Z,this.path=z,this.existing=K,this.gitDir=$}},K9=/^Init.+ repository in (.+)$/,$9=/^Rein.+ in (.+)$/}});function XH(Z){return Z.includes(W7)}function YH(Z=!1,z,K){let $=["init",...K];if(Z&&!XH($))$.splice(1,0,W7);return{commands:$,format:"utf-8",parser(H){return VH($.includes("--bare"),z,H)}}}var W7,JH=I({"src/lib/tasks/init.ts"(){QH(),W7="--bare"}});function U7(Z){for(let z=0;z<Z.length;z++){let K=B7.exec(Z[z]);if(K)return`--${K[1]}`}return""}function qH(Z){return B7.test(Z)}var B7,xZ=I({"src/lib/args/log-format.ts"(){B7=/^--(stat|numstat|name-only|name-status)(=|$)/}}),H9,WH=I({"src/lib/responses/DiffSummary.ts"(){H9=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function V9(Z=""){let z=Q9[Z];return(K)=>u(new H9,z,K,!1)}var h0,b8,x8,h8,Q9,X9=I({"src/lib/parsers/parse-diff-summary.ts"(){xZ(),WH(),m6(),w(),h0=[new M(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/,(Z,[z,K,$=""])=>{Z.files.push({file:z.trim(),changes:P(K),insertions:$.replace(/[^+]/g,"").length,deletions:$.replace(/[^-]/g,"").length,binary:!1})}),new M(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,(Z,[z,K,$])=>{Z.files.push({file:z.trim(),before:P(K),after:P($),binary:!0})}),new M(/(\d+) files? changed\s*((?:, \d+ [^,]+){0,2})/,(Z,[z,K])=>{let $=/(\d+) i/.exec(K),H=/(\d+) d/.exec(K);Z.changed=P(z),Z.insertions=P($?.[1]),Z.deletions=P(H?.[1])})],b8=[new M(/(\d+)\t(\d+)\t(.+)$/,(Z,[z,K,$])=>{let H=P(z),V=P(K);Z.changed++,Z.insertions+=H,Z.deletions+=V,Z.files.push({file:$,changes:H+V,insertions:H,deletions:V,binary:!1})}),new M(/-\t-\t(.+)$/,(Z,[z])=>{Z.changed++,Z.files.push({file:z,after:0,before:0,binary:!0})})],x8=[new M(/(.+)$/,(Z,[z])=>{Z.changed++,Z.files.push({file:z,changes:0,insertions:0,deletions:0,binary:!1})})],h8=[new M(/([ACDMRTUXB])([0-9]{0,3})\t(.[^\t]*)(\t(.[^\t]*))?$/,(Z,[z,K,$,H,V])=>{Z.changed++,Z.files.push({file:V??$,changes:0,insertions:0,deletions:0,binary:!1,status:c0(E$(z)&&z),from:c0(!!V&&$!==V&&$),similarity:P(K)})})],Q9={[""]:h0,["--stat"]:h0,["--numstat"]:b8,["--name-status"]:h8,["--name-only"]:x8}}});function UH(Z,z){return z.reduce((K,$,H)=>{return K[$]=Z[H]||"",K},Object.create({diff:null}))}function Y9(Z=G7,z=J9,K=""){let $=V9(K);return function(H){let V=yZ(H.trim(),!1,j7).map(function(Q){let X=Q.split(I7),J=UH(X[0].split(Z),z);if(X.length>1&&!!X[1].trim())J.diff=$(X[1]);return J});return{all:V,latest:V.length&&V[0]||null,total:V.length}}}var j7,I7,G7,J9,q9=I({"src/lib/parsers/parse-list-log-summary.ts"(){w(),X9(),xZ(),j7="òòòòòò ",I7=" òò",G7=" ò ",J9=["hash","date","message","refs","author_name","author_email"]}}),W9={};S(W9,{diffSummaryTask:()=>BH,validateLogFormatConfig:()=>W0});function BH(Z){let z=U7(Z),K=["diff"];if(z==="")z="--stat",K.push("--stat=4096");return K.push(...Z),W0(K)||{commands:K,format:"utf-8",parser:V9(z)}}function W0(Z){let z=Z.filter(qH);if(z.length>1)return m(`Summary flags are mutually exclusive - pick one of ${z.join(",")}`);if(z.length&&Z.includes("-z"))return m(`Summary flag ${z} parsing is not compatible with null termination option '-z'`)}var F7=I({"src/lib/tasks/diff.ts"(){xZ(),X9(),O()}});function jH(Z,z){let K=[],$=[];return Object.keys(Z).forEach((H)=>{K.push(H),$.push(String(Z[H]))}),[K,$.join(z)]}function IH(Z){return Object.keys(Z).reduce((z,K)=>{if(!(K in i0))z[K]=Z[K];return z},{})}function U9(Z={},z=[]){let K=t(Z.splitter,h,G7),$=Y0(Z.format)?Z.format:{hash:"%H",date:Z.strictDate===!1?"%ai":"%aI",message:"%s",refs:"%D",body:Z.multiLine?"%B":"%b",author_name:Z.mailMap!==!1?"%aN":"%an",author_email:Z.mailMap!==!1?"%aE":"%ae"},[H,V]=jH($,K),Q=[],X=[`--pretty=format:${j7}${V}${I7}`,...z],J=Z.n||Z["max-count"]||Z.maxCount;if(J)X.push(`--max-count=${J}`);if(Z.from||Z.to){let U=Z.symmetric!==!1?"...":"..";Q.push(`${Z.from||""}${U}${Z.to||""}`)}if(h(Z.file))X.push("--follow",z$(Z.file));return $7(IH(Z),X),{fields:H,splitter:K,commands:[...X,...Q]}}function GH(Z,z,K){let $=Y9(Z,z,U7(K));return{commands:["log",...K],format:"utf-8",parser:$}}function FH(){return{log(...K){let $=E(arguments),H=U9(H7(arguments),t(arguments[0],bZ)),V=z(...K)||W0(H.commands)||Z(H);return this._runTask(V,$)}};function Z(K){return GH(K.splitter,K.fields,K.commands)}function z(K,$){return h(K)&&h($)&&m("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}}var i0,B9=I({"src/lib/tasks/log.ts"(){xZ(),SZ(),q9(),w(),O(),F7(),i0=((Z)=>{return Z[Z["--pretty"]=0]="--pretty",Z[Z["max-count"]=1]="max-count",Z[Z.maxCount=2]="maxCount",Z[Z.n=3]="n",Z[Z.file=4]="file",Z[Z.format=5]="format",Z[Z.from=6]="from",Z[Z.to=7]="to",Z[Z.splitter=8]="splitter",Z[Z.symmetric=9]="symmetric",Z[Z.mailMap=10]="mailMap",Z[Z.multiLine=11]="multiLine",Z[Z.strictDate=12]="strictDate",Z})(i0||{})}}),tZ,j9,wH=I({"src/lib/responses/MergeSummary.ts"(){tZ=class{constructor(Z,z=null,K){this.reason=Z,this.file=z,this.meta=K}toString(){return`${this.file}:${this.reason}`}},j9=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){if(this.conflicts.length)return`CONFLICTS: ${this.conflicts.join(", ")}`;return"OK"}}}}),a0,I9,LH=I({"src/lib/responses/PullSummary.ts"(){a0=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},I9=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function _0(Z){return Z.objects=Z.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function _8(Z){let z=/^\s*(\d+)/.exec(Z),K=/delta (\d+)/i.exec(Z);return{count:P(z&&z[1]||"0"),delta:P(K&&K[1]||"0")}}var G9,MH=I({"src/lib/parsers/parse-remote-objects.ts"(){w(),G9=[new $Z(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,(Z,[z,K])=>{let $=z.toLowerCase(),H=_0(Z.remoteMessages);Object.assign(H,{[$]:P(K)})}),new $Z(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,(Z,[z,K])=>{let $=z.toLowerCase(),H=_0(Z.remoteMessages);Object.assign(H,{[$]:P(K)})}),new $Z(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,(Z,[z,K,$])=>{let H=_0(Z.remoteMessages);H.total=_8(z),H.reused=_8(K),H.packReused=P($)})]}});function F9(Z,z){return u({remoteMessages:new L9},w9,z)}var w9,L9,M9=I({"src/lib/parsers/parse-remote-messages.ts"(){w(),MH(),w9=[new $Z(/^remote:\s*(.+)$/,(Z,[z])=>{return Z.remoteMessages.all.push(z.trim()),!1}),...G9,new $Z([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],(Z,[z])=>{Z.remoteMessages.pullRequestUrl=z}),new $Z([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],(Z,[z,K,$])=>{Z.remoteMessages.vulnerabilities={count:P(z),summary:K,url:$}})],L9=class{constructor(){this.all=[]}}}});function NH(Z,z){let K=u(new I9,N9,[Z,z]);return K.message&&K}var f8,d8,c8,g8,N9,m8,w7,D9=I({"src/lib/parsers/parse-pull.ts"(){LH(),w(),M9(),f8=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,d8=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,c8=/^(create|delete) mode \d+ (.+)/,g8=[new M(f8,(Z,[z,K,$])=>{if(Z.files.push(z),K)Z.insertions[z]=K.length;if($)Z.deletions[z]=$.length}),new M(d8,(Z,[z,,K,,$])=>{if(K!==void 0||$!==void 0)return Z.summary.changes=+z||0,Z.summary.insertions=+K||0,Z.summary.deletions=+$||0,!0;return!1}),new M(c8,(Z,[z,K])=>{D(Z.files,K),D(z==="create"?Z.created:Z.deleted,K)})],N9=[new M(/^from\s(.+)$/i,(Z,[z])=>void(Z.remote=z)),new M(/^fatal:\s(.+)$/,(Z,[z])=>void(Z.message=z)),new M(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,(Z,[z,K,$,H])=>{Z.branch.local=$,Z.hash.local=z,Z.branch.remote=H,Z.hash.remote=K})],m8=(Z,z)=>{return u(new a0,g8,[Z,z])},w7=(Z,z)=>{return Object.assign(new a0,m8(Z,z),F9(Z,z))}}}),u8,C9,p8,DH=I({"src/lib/parsers/parse-merge.ts"(){wH(),w(),D9(),u8=[new M(/^Auto-merging\s+(.+)$/,(Z,[z])=>{Z.merges.push(z)}),new M(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,(Z,[z,K])=>{Z.conflicts.push(new tZ(z,K))}),new M(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,(Z,[z,K,$])=>{Z.conflicts.push(new tZ(z,K,{deleteRef:$}))}),new M(/^CONFLICT\s+\((.+)\):/,(Z,[z])=>{Z.conflicts.push(new tZ(z,null))}),new M(/^Automatic merge failed;\s+(.+)$/,(Z,[z])=>{Z.result=z})],C9=(Z,z)=>{return Object.assign(p8(Z,z),w7(Z,z))},p8=(Z)=>{return u(new j9,u8,Z)}}});function l8(Z){if(!Z.length)return m("Git.merge requires at least one option");return{commands:["merge",...Z],format:"utf-8",parser(z,K){let $=C9(z,K);if($.failed)throw new TZ($);return $}}}var CH=I({"src/lib/tasks/merge.ts"(){LZ(),DH(),O()}});function PH(Z,z,K){let $=K.includes("deleted"),H=K.includes("tag")||/^refs\/tags/.test(Z),V=!K.includes("new");return{deleted:$,tag:H,branch:!H,new:!V,alreadyUpdated:V,local:Z,remote:z}}var o8,P9,n8,vH=I({"src/lib/parsers/parse-push.ts"(){w(),M9(),o8=[new M(/^Pushing to (.+)$/,(Z,[z])=>{Z.repo=z}),new M(/^updating local tracking ref '(.+)'/,(Z,[z])=>{Z.ref={...Z.ref||{},local:z}}),new M(/^[=*-]\s+([^:]+):(\S+)\s+\[(.+)]$/,(Z,[z,K,$])=>{Z.pushed.push(PH(z,K,$))}),new M(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,(Z,[z,K,$])=>{Z.branch={...Z.branch||{},local:z,remote:K,remoteName:$}}),new M(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,(Z,[z,K,$,H])=>{Z.update={head:{local:z,remote:K},hash:{from:$,to:H}}})],P9=(Z,z)=>{let K=n8(Z,z),$=F9(Z,z);return{...K,...$}},n8=(Z,z)=>{return u({pushed:[]},o8,[Z,z])}}}),v9={};S(v9,{pushTagsTask:()=>RH,pushTask:()=>L7});function RH(Z={},z){return D(z,"--tags"),L7(Z,z)}function L7(Z={},z){let K=["push",...z];if(Z.branch)K.splice(1,0,Z.branch);if(Z.remote)K.splice(1,0,Z.remote);return Q0(K,"-v"),D(K,"--verbose"),D(K,"--porcelain"),{commands:K,format:"utf-8",parser:P9}}var R9=I({"src/lib/tasks/push.ts"(){vH(),w()}});function AH(){return{showBuffer(){let Z=["show",...g(arguments,1)];if(!Z.includes("--binary"))Z.splice(1,0,"--binary");return this._runTask(y6(Z),E(arguments))},show(){let Z=["show",...g(arguments,1)];return this._runTask(d(Z),E(arguments))}}}var EH=I({"src/lib/tasks/show.ts"(){w(),O()}}),i8,A9,OH=I({"src/lib/responses/FileStatusSummary.ts"(){i8=/^(.+)\0(.+)$/,A9=class{constructor(Z,z,K){if(this.path=Z,this.index=z,this.working_dir=K,z==="R"||K==="R"){let $=i8.exec(Z)||[null,Z,Z];this.from=$[2]||"",this.path=$[1]||""}}}}});function a8(Z){let[z,K]=Z.split(wZ);return{from:K||z,to:z}}function o(Z,z,K){return[`${Z}${z}`,K]}function f0(Z,...z){return z.map((K)=>o(Z,K,($,H)=>D($.conflicted,H)))}function SH(Z,z){let K=z.trim();switch(" "){case K.charAt(2):return $(K.charAt(0),K.charAt(1),K.substr(3));case K.charAt(1):return $(" ",K.charAt(0),K.substr(2));default:return}function $(H,V,Q){let X=`${H}${V}`,J=E9.get(X);if(J)J(Z,Q);if(X!=="##"&&X!=="!!")Z.files.push(new A9(Q,H,V))}}var s8,E9,O9,TH=I({"src/lib/responses/StatusSummary.ts"(){w(),OH(),s8=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>{return!this.files.length}}},E9=new Map([o(" ","A",(Z,z)=>D(Z.created,z)),o(" ","D",(Z,z)=>D(Z.deleted,z)),o(" ","M",(Z,z)=>D(Z.modified,z)),o("A"," ",(Z,z)=>D(Z.created,z)&&D(Z.staged,z)),o("A","M",(Z,z)=>D(Z.created,z)&&D(Z.staged,z)&&D(Z.modified,z)),o("D"," ",(Z,z)=>D(Z.deleted,z)&&D(Z.staged,z)),o("M"," ",(Z,z)=>D(Z.modified,z)&&D(Z.staged,z)),o("M","M",(Z,z)=>D(Z.modified,z)&&D(Z.staged,z)),o("R"," ",(Z,z)=>{D(Z.renamed,a8(z))}),o("R","M",(Z,z)=>{let K=a8(z);D(Z.renamed,K),D(Z.modified,K.to)}),o("!","!",(Z,z)=>{D(Z.ignored=Z.ignored||[],z)}),o("?","?",(Z,z)=>D(Z.not_added,z)),...f0("A","A","U"),...f0("D","D","U"),...f0("U","A","D","U"),["##",(Z,z)=>{let K=/ahead (\d+)/,$=/behind (\d+)/,H=/^(.+?(?=(?:\.{3}|\s|$)))/,V=/\.{3}(\S*)/,Q=/\son\s([\S]+)$/,X;X=K.exec(z),Z.ahead=X&&+X[1]||0,X=$.exec(z),Z.behind=X&&+X[1]||0,X=H.exec(z),Z.current=X&&X[1],X=V.exec(z),Z.tracking=X&&X[1],X=Q.exec(z),Z.current=X&&X[1]||Z.current,Z.detached=/\(no branch\)/.test(z)}]]),O9=function(Z){let z=Z.split(wZ),K=new s8;for(let $=0,H=z.length;$<H;){let V=z[$++].trim();if(!V)continue;if(V.charAt(0)==="R")V+=wZ+(z[$++]||"");SH(K,V)}return K}}});function yH(Z){return{format:"utf-8",commands:["status","--porcelain","-b","-u","--null",...Z.filter((K)=>!S9.includes(K))],parser(K){return O9(K)}}}var S9,kH=I({"src/lib/tasks/status.ts"(){TH(),S9=["--null","-z"]}});function $0(Z=0,z=0,K=0,$="",H=!0){return Object.defineProperty({major:Z,minor:z,patch:K,agent:$,installed:H},"toString",{value(){return`${this.major}.${this.minor}.${this.patch}`},configurable:!1,enumerable:!1})}function bH(){return $0(0,0,0,"",!1)}function xH(){return{version(){return this._runTask({commands:["--version"],format:"utf-8",parser:hH,onError(Z,z,K,$){if(Z.exitCode===-2)return K(Buffer.from(M7));$(z)}})}}}function hH(Z){if(Z===M7)return bH();return u($0(0,0,0,Z),T9,Z)}var M7,T9,_H=I({"src/lib/tasks/version.ts"(){w(),M7="installed=false",T9=[new M(/version (\d+)\.(\d+)\.(\d+)(?:\s*\((.+)\))?/,(Z,[z,K,$,H=""])=>{Object.assign(Z,$0(P(z),P(K),P($),H))}),new M(/version (\d+)\.(\d+)\.(\D+)(.+)?$/,(Z,[z,K,$,H=""])=>{Object.assign(Z,$0(P(z),P(K),$,H))})]}}),y9={};S(y9,{SimpleGitApi:()=>s0});var s0,fH=I({"src/lib/simple-git-api.ts"(){u$(),p$(),o$(),a$(),ZH(),c6(),KH(),l6(),HH(),JH(),B9(),CH(),R9(),EH(),kH(),O(),_H(),w(),s0=class{constructor(Z){this._executor=Z}_runTask(Z,z){let K=this._executor.chain(),$=K.push(Z);if(z)g$(Z,$,z);return Object.create(this,{then:{value:$.then.bind($)},catch:{value:$.catch.bind($)},_executor:{value:K}})}add(Z){return this._runTask(d(["add",...r(Z)]),E(arguments))}cwd(Z){let z=E(arguments);if(typeof Z==="string")return this._runTask(k8(Z,this._executor),z);if(typeof Z?.path==="string")return this._runTask(k8(Z.path,Z.root&&this._executor||void 0),z);return this._runTask(m("Git.cwd: workingDirectory must be supplied as a string"),z)}hashObject(Z,z){return this._runTask($H(Z,z===!0),E(arguments))}init(Z){return this._runTask(YH(Z===!0,this._executor.cwd,g(arguments)),E(arguments))}merge(){return this._runTask(l8(g(arguments)),E(arguments))}mergeFromTo(Z,z){if(!(h(Z)&&h(z)))return this._runTask(m("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"));return this._runTask(l8([Z,z,...g(arguments)]),E(arguments,!1))}outputHandler(Z){return this._executor.outputHandler=Z,this}push(){let Z=L7({remote:t(arguments[0],h),branch:t(arguments[1],h)},g(arguments));return this._runTask(Z,E(arguments))}stash(){return this._runTask(d(["stash",...g(arguments)]),E(arguments))}status(){return this._runTask(yH(g(arguments)),E(arguments))}},Object.assign(s0.prototype,l$(),e$(),A$(),i$(),zH(),T$(),FH(),AH(),xH())}}),k9={};S(k9,{Scheduler:()=>x9});var r8,x9,dH=I({"src/lib/runners/scheduler.ts"(){w(),s6(),r8=(()=>{let Z=0;return()=>{Z++;let{promise:z,done:K}=b9.createDeferred();return{promise:z,done:K,id:Z}}})(),x9=class{constructor(Z=2){this.concurrency=Z,this.logger=q7("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",Z)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);return}let Z=D(this.running,this.pending.shift());this.logger("Attempting id=%s",Z.id),Z.done(()=>{this.logger("Completing id=",Z.id),Q0(this.running,Z),this.schedule()})}next(){let{promise:Z,id:z}=D(this.pending,r8());return this.logger("Scheduling id=%s",z),this.schedule(),Z}}}}),h9={};S(h9,{applyPatchTask:()=>cH});function cH(Z,z){return d(["apply",...z,...Z])}var gH=I({"src/lib/tasks/apply-patch.ts"(){O()}});function mH(Z,z){return{branch:Z,hash:z,success:!0}}function uH(Z){return{branch:Z,hash:null,success:!1}}var _9,pH=I({"src/lib/responses/BranchDeleteSummary.ts"(){_9=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function f9(Z,z){return z===1&&r0.test(Z)}var t8,r0,e8,U0,lH=I({"src/lib/parsers/parse-branch-delete.ts"(){pH(),w(),t8=/(\S+)\s+\(\S+\s([^)]+)\)/,r0=/^error[^']+'([^']+)'/m,e8=[new M(t8,(Z,[z,K])=>{let $=mH(z,K);Z.all.push($),Z.branches[z]=$}),new M(r0,(Z,[z])=>{let K=uH(z);Z.errors.push(K),Z.all.push(K),Z.branches[z]=K})],U0=(Z,z)=>{return u(new _9,e8,[Z,z])}}}),d9,oH=I({"src/lib/responses/BranchSummary.ts"(){d9=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(Z,z,K,$,H){if(Z==="*")this.detached=z,this.current=K;this.all.push(K),this.branches[K]={current:Z==="*",linkedWorkTree:Z==="+",name:K,commit:$,label:H}}}}});function Z6(Z){return Z?Z.charAt(0):""}function c9(Z){return u(new d9,g9,Z)}var g9,nH=I({"src/lib/parsers/parse-branch.ts"(){oH(),w(),g9=[new M(/^([*+]\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,(Z,[z,K,$,H])=>{Z.push(Z6(z),!0,K,$,H)}),new M(/^([*+]\s)?(\S+)\s+([a-z0-9]+)\s?(.*)$/s,(Z,[z,K,$,H])=>{Z.push(Z6(z),!1,K,$,H)})]}}),m9={};S(m9,{branchLocalTask:()=>aH,branchTask:()=>iH,containsDeleteBranchCommand:()=>u9,deleteBranchTask:()=>rH,deleteBranchesTask:()=>sH});function u9(Z){let z=["-d","-D","--delete"];return Z.some((K)=>z.includes(K))}function iH(Z){let z=u9(Z),K=["branch",...Z];if(K.length===1)K.push("-a");if(!K.includes("-v"))K.splice(1,0,"-v");return{format:"utf-8",commands:K,parser($,H){if(z)return U0($,H).all[0];return c9($)}}}function aH(){return{format:"utf-8",commands:["branch","-v"],parser:c9}}function sH(Z,z=!1){return{format:"utf-8",commands:["branch","-v",z?"-D":"-d",...Z],parser(K,$){return U0(K,$)},onError({exitCode:K,stdOut:$},H,V,Q){if(!f9(String(H),K))return Q(H);V($)}}}function rH(Z,z=!1){let K={format:"utf-8",commands:["branch","-v",z?"-D":"-d",Z],parser($,H){return U0($,H).branches[Z]},onError({exitCode:$,stdErr:H,stdOut:V},Q,X,J){if(!f9(String(Q),$))return J(Q);throw new TZ(K.parser(OZ(V),OZ(H)),String(Q))}};return K}var tH=I({"src/lib/tasks/branch.ts"(){LZ(),lH(),nH(),w()}}),p9,eH=I({"src/lib/responses/CheckIgnore.ts"(){p9=(Z)=>{return Z.split(/\n/g).map((z)=>z.trim()).filter((z)=>!!z)}}}),l9={};S(l9,{checkIgnoreTask:()=>ZV});function ZV(Z){return{commands:["check-ignore",...Z],format:"utf-8",parser:p9}}var zV=I({"src/lib/tasks/check-ignore.ts"(){eH()}}),o9={};S(o9,{cloneMirrorTask:()=>$V,cloneTask:()=>n9});function KV(Z){return/^--upload-pack(=|$)/.test(Z)}function n9(Z,z,K){let $=["clone",...K];if(h(Z)&&$.push(Z),h(z)&&$.push(z),$.find(KV))return m("git.fetch: potential exploit argument blocked.");return d($)}function $V(Z,z,K){return D(K,"--mirror"),n9(Z,z,K)}var HV=I({"src/lib/tasks/clone.ts"(){O(),w()}});function VV(Z,z){return u({raw:Z,remote:null,branches:[],tags:[],updated:[],deleted:[]},i9,[Z,z])}var i9,QV=I({"src/lib/parsers/parse-fetch.ts"(){w(),i9=[new M(/From (.+)$/,(Z,[z])=>{Z.remote=z}),new M(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,(Z,[z,K])=>{Z.branches.push({name:z,tracking:K})}),new M(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,(Z,[z,K])=>{Z.tags.push({name:z,tracking:K})}),new M(/- \[deleted]\s+\S+\s*-> (.+)$/,(Z,[z])=>{Z.deleted.push({tracking:z})}),new M(/\s*([^.]+)\.\.(\S+)\s+(\S+)\s*-> (.+)$/,(Z,[z,K,$,H])=>{Z.updated.push({name:$,tracking:H,to:K,from:z})})]}}),a9={};S(a9,{fetchTask:()=>YV});function XV(Z){return/^--upload-pack(=|$)/.test(Z)}function YV(Z,z,K){let $=["fetch",...K];if(Z&&z)$.push(Z,z);if($.find(XV))return m("git.fetch: potential exploit argument blocked.");return{commands:$,format:"utf-8",parser:VV}}var JV=I({"src/lib/tasks/fetch.ts"(){QV(),O()}});function qV(Z){return u({moves:[]},s9,Z)}var s9,WV=I({"src/lib/parsers/parse-move.ts"(){w(),s9=[new M(/^Renaming (.+) to (.+)$/,(Z,[z,K])=>{Z.moves.push({from:z,to:K})})]}}),r9={};S(r9,{moveTask:()=>UV});function UV(Z,z){return{commands:["mv","-v",...r(Z),z],format:"utf-8",parser:qV}}var BV=I({"src/lib/tasks/move.ts"(){WV(),w()}}),t9={};S(t9,{pullTask:()=>jV});function jV(Z,z,K){let $=["pull",...K];if(Z&&z)$.splice(1,0,Z,z);return{commands:$,format:"utf-8",parser(H,V){return w7(H,V)},onError(H,V,Q,X){let J=NH(OZ(H.stdOut),OZ(H.stdErr));if(J)return X(new TZ(J));X(V)}}}var IV=I({"src/lib/tasks/pull.ts"(){LZ(),D9(),w()}});function GV(Z){let z={};return e9(Z,([K])=>z[K]={name:K}),Object.values(z)}function FV(Z){let z={};return e9(Z,([K,$,H])=>{if(!z.hasOwnProperty(K))z[K]={name:K,refs:{fetch:"",push:""}};if(H&&$)z[K].refs[H.replace(/[^a-z]/g,"")]=$}),Object.values(z)}function e9(Z,z){Z7(Z,(K)=>z(K.split(/\s+/)))}var wV=I({"src/lib/responses/GetRemoteSummary.ts"(){w()}}),Zz={};S(Zz,{addRemoteTask:()=>LV,getRemotesTask:()=>MV,listRemotesTask:()=>NV,remoteTask:()=>DV,removeRemoteTask:()=>CV});function LV(Z,z,K){return d(["remote","add",...K,Z,z])}function MV(Z){let z=["remote"];if(Z)z.push("-v");return{commands:z,format:"utf-8",parser:Z?FV:GV}}function NV(Z){let z=[...Z];if(z[0]!=="ls-remote")z.unshift("ls-remote");return d(z)}function DV(Z){let z=[...Z];if(z[0]!=="remote")z.unshift("remote");return d(z)}function CV(Z){return d(["remote","remove",Z])}var PV=I({"src/lib/tasks/remote.ts"(){wV(),O()}}),zz={};S(zz,{stashListTask:()=>vV});function vV(Z={},z){let K=U9(Z),$=["stash","list",...K.commands,...z],H=Y9(K.splitter,K.fields,U7($));return W0($)||{commands:$,format:"utf-8",parser:H}}var RV=I({"src/lib/tasks/stash-list.ts"(){xZ(),q9(),F7(),B9()}}),Kz={};S(Kz,{addSubModuleTask:()=>AV,initSubModuleTask:()=>EV,subModuleTask:()=>B0,updateSubModuleTask:()=>OV});function AV(Z,z){return B0(["add",Z,z])}function EV(Z){return B0(["init",...Z])}function B0(Z){let z=[...Z];if(z[0]!=="submodule")z.unshift("submodule");return d(z)}function OV(Z){return B0(["update",...Z])}var SV=I({"src/lib/tasks/sub-module.ts"(){O()}});function TV(Z,z){let K=isNaN(Z),$=isNaN(z);if(K!==$)return K?1:-1;return K?$z(Z,z):0}function $z(Z,z){return Z===z?0:Z>z?1:-1}function yV(Z){return Z.trim()}function iZ(Z){if(typeof Z==="string")return parseInt(Z.replace(/^\D+/g,""),10)||0;return 0}var z6,Hz,kV=I({"src/lib/responses/TagList.ts"(){z6=class{constructor(Z,z){this.all=Z,this.latest=z}},Hz=function(Z,z=!1){let K=Z.split(`
`).map(yV).filter(Boolean);if(!z)K.sort(function(H,V){let Q=H.split("."),X=V.split(".");if(Q.length===1||X.length===1)return TV(iZ(Q[0]),iZ(X[0]));for(let J=0,U=Math.max(Q.length,X.length);J<U;J++){let Y=$z(iZ(Q[J]),iZ(X[J]));if(Y)return Y}return 0});let $=z?K[0]:[...K].reverse().find((H)=>H.indexOf(".")>=0);return new z6(K,$)}}}),Vz={};S(Vz,{addAnnotatedTagTask:()=>hV,addTagTask:()=>xV,tagListTask:()=>bV});function bV(Z=[]){let z=Z.some((K)=>/^--sort=/.test(K));return{format:"utf-8",commands:["tag","-l",...Z],parser(K){return Hz(K,z)}}}function xV(Z){return{format:"utf-8",commands:["tag",Z],parser(){return{name:Z}}}}function hV(Z,z){return{format:"utf-8",commands:["tag","-a","-m",z,Z],parser(){return{name:Z}}}}var _V=I({"src/lib/tasks/tag.ts"(){kV()}}),fV=e5({"src/git.js"(Z,z){var{GitExecutor:K}=(c$(),A(t6)),{SimpleGitApi:$}=(fH(),A(y9)),{Scheduler:H}=(dH(),A(k9)),{configurationErrorTask:V}=(O(),A(l0)),{asArray:Q,filterArray:X,filterPrimitives:J,filterString:U,filterStringOrStringArray:Y,filterType:q,getTrailingOptions:W,trailingFunctionArgument:B,trailingOptionsArgument:N}=(w(),A(D6)),{applyPatchTask:L}=(gH(),A(h9)),{branchTask:v,branchLocalTask:_,deleteBranchesTask:b,deleteBranchTask:y}=(tH(),A(m9)),{checkIgnoreTask:T}=(zV(),A(l9)),{checkIsRepoTask:VZ}=(R6(),A(C6)),{cloneTask:zZ,cloneMirrorTask:j0}=(HV(),A(o9)),{cleanWithOptionsTask:hZ,isCleanOptionsArray:I0}=(_6(),A(x6)),{diffSummaryTask:Yz}=(F7(),A(W9)),{fetchTask:Jz}=(JV(),A(a9)),{moveTask:qz}=(BV(),A(r9)),{pullTask:Wz}=(IV(),A(t9)),{pushTagsTask:Uz}=(R9(),A(v9)),{addRemoteTask:Bz,getRemotesTask:jz,listRemotesTask:Iz,remoteTask:Gz,removeRemoteTask:Fz}=(PV(),A(Zz)),{getResetMode:wz,resetTask:Lz}=(a6(),A(o6)),{stashListTask:Mz}=(RV(),A(zz)),{addSubModuleTask:Nz,initSubModuleTask:Dz,subModuleTask:Cz,updateSubModuleTask:Pz}=(SV(),A(Kz)),{addAnnotatedTagTask:vz,addTagTask:Rz,tagListTask:Az}=(_V(),A(Vz)),{straightThroughBufferTask:Ez,straightThroughStringTask:s}=(O(),A(l0));function F(j,G){this._plugins=G,this._executor=new K(j.baseDir,new H(j.maxConcurrentProcesses),G),this._trimmed=j.trimmed}(F.prototype=Object.create($.prototype)).constructor=F,F.prototype.customBinary=function(j){return this._plugins.reconfigure("binary",j),this},F.prototype.env=function(j,G){if(arguments.length===1&&typeof j==="object")this._executor.env=j;else(this._executor.env=this._executor.env||{})[j]=G;return this},F.prototype.stashList=function(j){return this._runTask(Mz(N(arguments)||{},X(j)&&j||[]),B(arguments))};function D7(j,G,C,f){if(typeof C!=="string")return V(`git.${j}() requires a string 'repoPath'`);return G(C,q(f,U),W(arguments))}F.prototype.clone=function(){return this._runTask(D7("clone",zZ,...arguments),B(arguments))},F.prototype.mirror=function(){return this._runTask(D7("mirror",j0,...arguments),B(arguments))},F.prototype.mv=function(j,G){return this._runTask(qz(j,G),B(arguments))},F.prototype.checkoutLatestTag=function(j){var G=this;return this.pull(function(){G.tags(function(C,f){G.checkout(f.latest,j)})})},F.prototype.pull=function(j,G,C,f){return this._runTask(Wz(q(j,U),q(G,U),W(arguments)),B(arguments))},F.prototype.fetch=function(j,G){return this._runTask(Jz(q(j,U),q(G,U),W(arguments)),B(arguments))},F.prototype.silent=function(j){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},F.prototype.tags=function(j,G){return this._runTask(Az(W(arguments)),B(arguments))},F.prototype.rebase=function(){return this._runTask(s(["rebase",...W(arguments)]),B(arguments))},F.prototype.reset=function(j){return this._runTask(Lz(wz(j),W(arguments)),B(arguments))},F.prototype.revert=function(j){let G=B(arguments);if(typeof j!=="string")return this._runTask(V("Commit must be a string"),G);return this._runTask(s(["revert",...W(arguments,0,!0),j]),G)},F.prototype.addTag=function(j){let G=typeof j==="string"?Rz(j):V("Git.addTag requires a tag name");return this._runTask(G,B(arguments))},F.prototype.addAnnotatedTag=function(j,G){return this._runTask(vz(j,G),B(arguments))},F.prototype.deleteLocalBranch=function(j,G,C){return this._runTask(y(j,typeof G==="boolean"?G:!1),B(arguments))},F.prototype.deleteLocalBranches=function(j,G,C){return this._runTask(b(j,typeof G==="boolean"?G:!1),B(arguments))},F.prototype.branch=function(j,G){return this._runTask(v(W(arguments)),B(arguments))},F.prototype.branchLocal=function(j){return this._runTask(_(),B(arguments))},F.prototype.raw=function(j){let G=!Array.isArray(j),C=[].slice.call(G?arguments:j,0);for(let a=0;a<C.length&&G;a++)if(!J(C[a])){C.splice(a,C.length-a);break}C.push(...W(arguments,0,!0));var f=B(arguments);if(!C.length)return this._runTask(V("Raw: must supply one or more command to execute"),f);return this._runTask(s(C,this._trimmed),f)},F.prototype.submoduleAdd=function(j,G,C){return this._runTask(Nz(j,G),B(arguments))},F.prototype.submoduleUpdate=function(j,G){return this._runTask(Pz(W(arguments,!0)),B(arguments))},F.prototype.submoduleInit=function(j,G){return this._runTask(Dz(W(arguments,!0)),B(arguments))},F.prototype.subModule=function(j,G){return this._runTask(Cz(W(arguments)),B(arguments))},F.prototype.listRemote=function(){return this._runTask(Iz(W(arguments)),B(arguments))},F.prototype.addRemote=function(j,G,C){return this._runTask(Bz(j,G,W(arguments)),B(arguments))},F.prototype.removeRemote=function(j,G){return this._runTask(Fz(j),B(arguments))},F.prototype.getRemotes=function(j,G){return this._runTask(jz(j===!0),B(arguments))},F.prototype.remote=function(j,G){return this._runTask(Gz(W(arguments)),B(arguments))},F.prototype.tag=function(j,G){let C=W(arguments);if(C[0]!=="tag")C.unshift("tag");return this._runTask(s(C),B(arguments))},F.prototype.updateServerInfo=function(j){return this._runTask(s(["update-server-info"]),B(arguments))},F.prototype.pushTags=function(j,G){let C=Uz({remote:q(j,U)},W(arguments));return this._runTask(C,B(arguments))},F.prototype.rm=function(j){return this._runTask(s(["rm","-f",...Q(j)]),B(arguments))},F.prototype.rmKeepLocal=function(j){return this._runTask(s(["rm","--cached",...Q(j)]),B(arguments))},F.prototype.catFile=function(j,G){return this._catFile("utf-8",arguments)},F.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},F.prototype._catFile=function(j,G){var C=B(G),f=["cat-file"],a=G[0];if(typeof a==="string")return this._runTask(V("Git.catFile: options must be supplied as an array of strings"),C);if(Array.isArray(a))f.push.apply(f,a);let G0=j==="buffer"?Ez(f):s(f);return this._runTask(G0,C)},F.prototype.diff=function(j,G){let C=U(j)?V("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):s(["diff",...W(arguments)]);return this._runTask(C,B(arguments))},F.prototype.diffSummary=function(){return this._runTask(Yz(W(arguments,1)),B(arguments))},F.prototype.applyPatch=function(j){let G=!Y(j)?V("git.applyPatch requires one or more string patches as the first argument"):L(Q(j),W([].slice.call(arguments,1)));return this._runTask(G,B(arguments))},F.prototype.revparse=function(){let j=["rev-parse",...W(arguments,!0)];return this._runTask(s(j,!0),B(arguments))},F.prototype.clean=function(j,G,C){let f=I0(j),a=f&&j.join("")||q(j,U)||"",G0=W([].slice.call(arguments,f?1:0));return this._runTask(hZ(a,G0),B(arguments))},F.prototype.exec=function(j){let G={commands:[],format:"utf-8",parser(){if(typeof j==="function")j()}};return this._runTask(G)},F.prototype.clearQueue=function(){return this},F.prototype.checkIgnore=function(j,G){return this._runTask(T(Q(q(j,Y,[]))),B(arguments))},F.prototype.checkIsRepo=function(j,G){return this._runTask(VZ(q(j,U)),B(arguments))},z.exports=F}});SZ();HZ();var dV=class extends ZZ{constructor(Z,z){super(void 0,z);this.config=Z}};HZ();HZ();var e=class extends ZZ{constructor(Z,z,K){super(Z,K);this.task=Z,this.plugin=z,Object.setPrototypeOf(this,new.target.prototype)}};LZ();X6();R6();_6();c6();m6();l6();a6();function cV(Z){if(!Z)return;return[{type:"spawn.before",action($,H){if(Z.aborted)H.kill(new e(void 0,"abort","Abort already signaled"))}},{type:"spawn.after",action($,H){function V(){H.kill(new e(void 0,"abort","Abort signal received"))}Z.addEventListener("abort",V),H.spawned.on("close",()=>Z.removeEventListener("abort",V))}}]}function gV(Z){return typeof Z==="string"&&Z.trim().toLowerCase()==="-c"}function mV(Z,z){if(!gV(Z))return;if(!/^\s*protocol(.[a-z]+)?.allow/.test(z))return;throw new e(void 0,"unsafe","Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol")}function uV(Z,z){if(/^\s*--(upload|receive)-pack/.test(Z))throw new e(void 0,"unsafe","Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack");if(z==="clone"&&/^\s*-u\b/.test(Z))throw new e(void 0,"unsafe","Use of clone with option -u is not permitted without enabling allowUnsafePack");if(z==="push"&&/^\s*--exec\b/.test(Z))throw new e(void 0,"unsafe","Use of push with option --exec is not permitted without enabling allowUnsafePack")}function pV({allowUnsafeProtocolOverride:Z=!1,allowUnsafePack:z=!1}={}){return{type:"spawn.args",action(K,$){return K.forEach((H,V)=>{let Q=V<K.length?K[V+1]:"";Z||mV(H,Q),z||uV(H,$.method)}),K}}}w();function lV(Z){let z=EZ(Z,"-c");return{type:"spawn.args",action(K){return[...z,...K]}}}w();var K6=FZ.deferred().promise;function oV({onClose:Z=!0,onExit:z=50}={}){function K(){let H=-1,V={close:FZ.deferred(),closeTimeout:FZ.deferred(),exit:FZ.deferred(),exitTimeout:FZ.deferred()},Q=Promise.race([Z===!1?K6:V.closeTimeout.promise,z===!1?K6:V.exitTimeout.promise]);return $(Z,V.close,V.closeTimeout),$(z,V.exit,V.exitTimeout),{close(X){H=X,V.close.done()},exit(X){H=X,V.exit.done()},get exitCode(){return H},result:Q}}function $(H,V,Q){if(H===!1)return;(H===!0?V.promise:V.promise.then(()=>d0(H))).then(Q.done)}return{type:"spawn.after",async action(H,{spawned:V,close:Q}){let X=K(),J=!0,U=()=>void(J=!1);V.stdout?.on("data",U),V.stderr?.on("data",U),V.on("error",U),V.on("close",(Y)=>X.close(Y)),V.on("exit",(Y)=>X.exit(Y));try{if(await X.result,J)await d0(50);Q(X.exitCode)}catch(Y){Q(X.exitCode,Y)}}}}w();var nV="Invalid value supplied for custom binary, requires a single string or an array containing either one or two strings",$6="Invalid value supplied for custom binary, restricted characters must be removed or supply the unsafe.allowUnsafeCustomBinary option";function iV(Z){return!Z||!/^([a-z]:)?([a-z0-9/.\\_-]+)$/i.test(Z)}function H6(Z,z){if(Z.length<1||Z.length>2)throw new e(void 0,"binary",nV);if(Z.some(iV))if(z)console.warn($6);else throw new e(void 0,"binary",$6);let[$,H]=Z;return{binary:$,prefix:H}}function aV(Z,z=["git"],K=!1){let $=H6(r(z),K);Z.on("binary",(H)=>{$=H6(r(H),K)}),Z.append("spawn.binary",()=>{return $.binary}),Z.append("spawn.args",(H)=>{return $.prefix?[$.prefix,...H]:H})}HZ();function sV(Z){return!!(Z.exitCode&&Z.stdErr.length)}function rV(Z){return Buffer.concat([...Z.stdOut,...Z.stdErr])}function tV(Z=!1,z=sV,K=rV){return($,H)=>{if(!Z&&$||!z(H))return $;return K(H)}}function V6(Z){return{type:"task.error",action(z,K){let $=Z(z.error,{stdErr:K.stdErr,stdOut:K.stdOut,exitCode:K.exitCode});if(Buffer.isBuffer($))return{error:new ZZ(void 0,$.toString("utf-8"))};return{error:$}}}}w();var Z4=class{constructor(){this.plugins=new Set,this.events=new eV}on(Z,z){this.events.on(Z,z)}reconfigure(Z,z){this.events.emit(Z,z)}append(Z,z){let K=D(this.plugins,{type:Z,action:z});return()=>this.plugins.delete(K)}add(Z){let z=[];return r(Z).forEach((K)=>K&&this.plugins.add(D(z,K))),()=>{z.forEach((K)=>this.plugins.delete(K))}}exec(Z,z,K){let $=z,H=Object.freeze(Object.create(K));for(let V of this.plugins)if(V.type===Z)$=V.action($,H);return $}};w();function z4(Z){let K=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action(V,Q){if(!K.includes(Q.method))return V;return B6(V,"--progress")}},{type:"spawn.after",action(V,Q){if(!Q.commands.includes("--progress"))return;Q.spawned.stderr?.on("data",(X)=>{let J=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(X.toString("utf8"));if(!J)return;Z({method:Q.method,stage:K4(J[1]),progress:P(J[2]),processed:P(J[3]),total:P(J[4])})})}}]}function K4(Z){return String(Z.toLowerCase().split(" ",1))||"unknown"}w();function $4(Z){let z=G6(Z,["uid","gid"]);return{type:"spawn.options",action(K){return{...z,...K}}}}function H4({block:Z,stdErr:z=!0,stdOut:K=!0}){if(Z>0)return{type:"spawn.after",action($,H){let V;function Q(){V&&clearTimeout(V),V=setTimeout(J,Z)}function X(){H.spawned.stdout?.off("data",Q),H.spawned.stderr?.off("data",Q),H.spawned.off("exit",X),H.spawned.off("close",X),V&&clearTimeout(V)}function J(){X(),H.kill(new e(void 0,"timeout","block timeout reached"))}K&&H.spawned.stdout?.on("data",Q),z&&H.spawned.stderr?.on("data",Q),H.spawned.on("exit",X),H.spawned.on("close",X),Q()}}}SZ();function V4(){return{type:"spawn.args",action(Z){let z=[],K;function $(H){(K=K||[]).push(...H)}for(let H=0;H<Z.length;H++){let V=Z[H];if(eZ(V)){$(O8(V));continue}if(V==="--"){$(Z.slice(H+1).flatMap((Q)=>eZ(Q)&&O8(Q)||Q));break}z.push(V)}return!K?z:[...z,"--",...K.map(String)]}}}w();var Q4=fV();function X4(Z,z){let K=new Z4,$=M6(Z&&(typeof Z==="string"?{baseDir:Z}:Z)||{},z);if(!z7($.baseDir))throw new dV($,"Cannot use simple-git on a directory that does not exist");if(Array.isArray($.config))K.add(lV($.config));return K.add(pV($.unsafe)),K.add(V4()),K.add(oV($.completion)),$.abort&&K.add(cV($.abort)),$.progress&&K.add(z4($.progress)),$.timeout&&K.add(H4($.timeout)),$.spawnOptions&&K.add($4($.spawnOptions)),K.add(V6(tV(!0))),$.errors&&K.add(V6($.errors)),aV(K,$.binary,$.unsafe?.allowUnsafeCustomBinary),new Q4($,K)}LZ();var N7=X4;async function Xz(Z){let z=Date.now(),K=await Qz.default({ignoreFiles:Z?.ignoreFiles??[".omniignore",".gitignore",".npmignore",".dockerignore"],includeEmpty:!1,path:Z?.startDir??process.cwd(),follow:!1}),$=Z?.filesToUpdate??["package.json","Cargo.toml"],H=Z?.versionRegex??/0.0.0-semantically-released/g,V=process.cwd(),Q="",X=/^(0|[1-9][0-9]*)\.(0|[1-9][0-9]*)\.(0|[1-9][0-9]*)(?:-((?:0|[1-9][0-9]*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9][0-9]*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;if(await Bun.file(Z?.versionFile??`${V}/.version`).exists())Q=(await Bun.file(`${V}/.version`).text()).trim(),console.log(`Found version file containing: ${Q}`);else{let Y=(await N7().tag(["--points-at","HEAD"])).trim();if(!Y)Y=`v0.0.0-${(await N7().revparse(["HEAD"])).trim()}`;if(!Y)console.error("Failed to determine version"),process.exit(1);console.log(`Found version: ${Y}`),Q=(Y.startsWith("v")?Y.slice(1):Y).trim()}if(!X.test(Q))console.error(`Invalid version format: ${Q}`),process.exit(1);console.log(`Applying version: ${Q}`);for(let Y of K)for(let q of $)if(Y.endsWith(q)){let W=await Bun.file(Y).text();if(H.test(W)){let B=W.replace(H,Q);await Bun.file(Y).write(B),console.log(`Applied version in ${Y}`)}}let U=Date.now()-z;console.log(`Applied version in ${U}ms`)}await Xz();
