# yaml-language-server: $schema=https://raw.githubusercontent.com/omni-oss/omni/refs/heads/json-schemas/project-latest.json
name: ts

extends: ["./base.omni.yaml"]

cache:
  key:
    files:
      - "package.json"
      - "./src/**/*.{ts,tsx,js,jsx,cjs,mjs,mts,cts}"

tasks:
  test:unit:
    command: bun run test:unit

  test:integration:
    command: bun run test:integration
    dependencies:
      - test:unit

  test:
    dependencies:
      - test:unit
      - test:integration

  build:
    command: bun run build
    dependencies:
      - ^build
    output:
      files:
        - dist/**/*

meta:
  language: typescript
